(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)r=o[d],s[r]&&f.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("c21b"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"navbar navbar-expand navbar-dark bg-primary flex-column flex-md-row sticky-top justify-content-between"},[n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Dataviewer")]),n("transition",{attrs:{name:"fade"}},[t.wait?n("div",{staticClass:"navbar-text spinner"},[n("div",{staticClass:"double-bounce1"}),n("div",{staticClass:"double-bounce2"})]):t._e()])],1),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xl-3"},[n("div",{staticClass:"sidebar-sticky"},[n("div",{staticClass:"accordion"},t._l(t.tree,function(e,i){return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h5",{staticClass:"mb-0"},[n("button",{staticClass:"btn btn-link",attrs:{"data-target":"#"+i},on:{click:function(e){t.selectedBekken=t.selectedBekken==i?void 0:i}}},[t._v(t._s(i))])])]),t.selectedBekken==i?n("div",{attrs:{id:i}},[n("div",{staticClass:"list-group"},t._l(e,function(e,i){return t.isUnSupported(i)?n("a",{staticClass:"list-group-item list-group-item-action",class:{active:i==t.selectedStation},attrs:{href:"#"},on:{click:function(e){t.selectedStation=i}}},[t._v("\n                                          "+t._s(i.replace(".","/"))+"\n                                      ")]):t._e()}))]):t._e()])}))])]),n("div",{staticClass:"col mt-3",attrs:{id:"opmerkingen"}},[t.selectedStation?n("h3",[t._v(t._s(t.selectedStation)+"\n                  ")]):n("div",[n("h6",[t._v("Selecteer een station uit het menu.")]),t._l(t.catchImages,function(e){return n("div",[n("figure",{staticClass:"figure ",staticStyle:{width:"100%"}},[n("figcaption",{staticClass:"figure-caption"},[n("h6",[t._v("\n                                          "+t._s(t.$_.last(t.$_.split(t.$_.split(e,"?")[0],"/")))+"\n                                      ")])]),n("img",{staticClass:"img img-fluid  mx-auto d-block",attrs:{src:e,alt:""}})])])})],2),t._l(t.txtList,function(t){return n("div",[n("v-text",{attrs:{file:t}})],1)}),n("div",{attrs:{id:"plots"}}),t._l(t.imgList,function(e){return n("div",{attrs:{id:t.$_.last(t.$_.split(e,"/"))}},[n("figure",{staticClass:"figure ",staticStyle:{width:"100%"}},[n("figcaption",{staticClass:"figure-caption"},[n("h6",[t._v("\n                                  "+t._s(t.$_.join(t.$_.split(t.$_.last(t.$_.split(t.$_.split(e,"?")[0],"/")),".").slice(2),"."))+"\n                              ")])]),n("img",{staticClass:"img img-fluid  mx-auto d-block",attrs:{src:e,alt:""}})])])}),t._l(t.formList,function(e){return n("div",{staticClass:"mb-5 pb-5",attrs:{id:"forms"}},[n("formcomponent",{staticClass:"v-table",attrs:{file:e},on:{save:t.save}})],1)}),t._l(t.csvList,function(t){return n("div",{attrs:{id:"tabellen"}},[n("v-table",{staticClass:"v-table",attrs:{file:t}})],1)}),t._l(t.xmlList,function(e){return n("div",{staticClass:"mb-5 pb-5",attrs:{id:"links"}},[n("a",{attrs:{href:e}},[t._v(t._s(e))])])})],2),t.selectedStation?n("div",{staticClass:"col-xl-2 d-none d-xl-block sidebar-sticky   "},[n("ul",{staticClass:"section-nav"},[n("li",{staticClass:"toc-entry toc-h2"},[n("a",{attrs:{href:"#plots"}},[t._v("Plots")]),n("ul",t._l(t.imgList,function(e){return n("li",{staticClass:"toc-entry toc-h3"},[n("a",{attrs:{href:"#"+t.$_.last(t.$_.split(e,"/"))}},[t._v("\n                                      "+t._s(t.$_.split(t.$_.last(t.$_.split(e,"/")),"?")[0])+"\n                                  ")])])}))]),n("li",{staticClass:"toc-entry toc-h2"},[n("a",{attrs:{href:"#tabellen"}},[t._v("Tabels")]),n("ul",t._l(t.csvList,function(e){return n("li",{staticClass:"toc-entry toc-h3"},[n("a",{attrs:{href:"#"+t.$_.last(t.$_.split(e,"/"))}},[t._v("\n                                      "+t._s(t.$_.split(t.$_.last(t.$_.split(e,"/")),"?")[0])+"\n                                  ")])])}))])])]):t._e(),n("scrolltop")],1)])])},a=[],r=(n("28a5"),n("6762"),n("2fdb"),n("4917"),n("aef6"),n("ac6a"),n("a543")),o=n.n(r),c=n("2ef0"),l=n.n(c),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",{attrs:{id:t.$_.last(t.$_.split(t.file,"/"))}},[t._v(t._s(t.$_.last(t.$_.split(t.file,"/"))))]),n("table",{staticClass:"table table-bordered table-sm table-hover table-responsive "},[n("thead",{staticClass:"thead-light"},[n("tr",t._l(t.headers,function(e){return n("th",[t._v(t._s(e))])}))]),n("tbody",t._l(t.contents,function(e){return n("tr",t._l(e,function(e){return n("td",[t._v(t._s(e))])}))}))])])},d=[],f={props:["file"],data:function(){return{contents:{},interval:void 0}},created:function(){this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3)),console.log("created new interval!")},methods:{fetch:function(){var t=this;this.$csv(this.file,function(e){t.contents=e})}},watch:{file:function(t,e){t!=e&&(clearInterval(this.interval),this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3)),console.log("created new interval!"))}},computed:{headers:function(){return this.$_.keys(this.contents[0])}},beforeDestroy:function(){console.log("unload!"),clearInterval(this.interval)}},h=f,v=n("2877"),p=Object(v["a"])(h,u,d,!1,null,null,null);p.options.__file="table.vue";var m=p.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{domProps:{innerHTML:t._s(t.contents)}})},_=[],g={props:["file"],data:function(){return{contents:"",interval:void 0}},mounted:function(){this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3))},methods:{fetch:function(){var t=this;this.$api.get(this.file).then(function(e){t.contents=e.data})}},watch:{file:function(t,e){t!=e&&(clearInterval(this.interval),this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3)))}},beforeDestroy:function(){clearInterval(this.interval)}},k=g,y=Object(v["a"])(k,b,_,!1,null,null,null);y.options.__file="text.vue";var $=y.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"backToTop",on:{click:function(e){t.backToTop()}}},[t._v(t._s(t.tekst))]):t._e()},w=[],S=(n("c5f6"),{data:function(){return{visible:!1}},props:{tekst:{type:String,default:"Scroll naar top"},visibleoffset:{type:[String,Number],default:600}},created:function(){var t=this,e=function(){t.visible=window.pageYOffset>parseInt(t.visibleoffset)};window.smoothscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(window.smoothscroll),window.scrollto(0,Math.floor(t-t/5))),window.onscroll=e}},methods:{backToTop:function(){return window.smoothscroll()}}}),x=S,T=Object(v["a"])(x,C,w,!1,null,null,null);T.options.__file="scrollTop.vue";var B=T.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[t.saving?t._e():n("table",{staticClass:"table table-bordered table-sm table-hover table-responsive"},[n("thead",{staticClass:"thead-light"},[n("tr",t._l(t.keys,function(e){return n("th",{key:"dummy"+e},[t._v("\n                          "+t._s(e)+"\n                      ")])}))]),t._l(t.contents,function(e,i){return n("tr",{key:"dummy2"+i},[t._l(e,function(i,s){return n("td",{key:"dummy3"+s},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e[s],expression:"item[key]"}],staticClass:"form-control",domProps:{value:e[s]},on:{input:function(n){n.target.composing||t.$set(e,s,n.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(t){e[s]=""}}},[n("span",{staticClass:"oi oi-delete"})])])])])}),n("td",[n("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){e.preventDefault(),t.remove(i)}}},[n("span",{staticClass:"oi oi-delete"})])])],2)})],2),t.saving?t._e():n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"text"},on:{click:function(e){return e.preventDefault(),t.addLine(e)}}},[n("span",{staticClass:"oi oi-plus"})]),n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"text"},on:{click:function(e){return e.preventDefault(),t.reset(e)}}},[n("span",{staticClass:"oi oi-reload"})]),t._m(0),t.$_.includes(t.file,"breakpoints")?n("div",[n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(15)}}},[t._v("15")]),n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(20)}}},[t._v("20")]),n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(25)}}},[t._v("25")]),n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(30)}}},[t._v("30")])]):n("div",[n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(t.contents[0]["start"])}}},[t._v("Use V")])])]),t.saving?n("div",{staticClass:"alert alert-danger"},[t._v("\n              ... saving and re-running implementation analysis...\n          ")]):t._e()])},D=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"}},[n("span",{staticClass:"oi oi-cloud-upload"})])}],O={data:function(){return{contents:void 0,saving:!1,stored:void 0}},props:["file"],computed:{keys:function(){return this.$_.isUndefined(this.contents)?[]:this.$_.keys(this.contents[0])},shortfile:function(){return this.$_.last(this.$_.split(this.$_.join(this.$_.dropRight(this.$_.split(this.file,".")),"."),"/"))},json:function(){return JSON.stringify(this.contents,function(t,e){return void 0===e?null:e})}},created:function(){this.fetch()},watch:{file:function(){this.editing=!1,this.fetch()}},methods:{fetch:function(){var t=this;return new Promise(function(e,n){t.editing||t.$csv(t.file,function(n){t.editing||(t.contents=n,t.stored=t.$_.cloneDeep(t.contents)),e()})})},addLine:function(){this.editing=!0,this.contents.push(this.$_.cloneDeep(this.$_.last(this.contents)))},save:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.editing=!1,this.saving=!0,this.$emit("save",JSON.stringify(this.contents),this.shortfile,e),setTimeout(function(){t.saving=!1,t.fetch()},1e4)},remove:function(t){this.editing=!0,this.contents.splice(t,1)},reset:function(){this.contents=this.$_.cloneDeep(this.stored)}}},I=O,L=Object(v["a"])(I,j,D,!1,null,null,null);L.options.__file="form.vue";var P=L.exports,E={name:"app",data:function(){return{tree:{},selectedStation:void 0,selectedBekken:void 0,wait:!1,host:window.location.hostname}},computed:{catchImages:function(){var t=this;return this.selectedBekken?l.a.map(l.a.filter(l.a.keys(this.tree[this.selectedBekken]),function(t){return l.a.endsWith(t,".png")}),function(e){return"./data/".concat(t.selectedBekken,"/").concat(e)}):[]},imgList:function(){var t=this;try{return l.a.map(l.a.filter(l.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return t.match(/.(jpg|png|svg|jpeg)$/i)}),function(e){var n="./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e;return n="localhost3"!=t.host?n+"?"+(new Date).toLocaleTimeString():n,n})}catch(t){return[]}},csvList:function(){var t=this;try{return console.log("recalculating!"),l.a.map(l.a.filter(l.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return l.a.endsWith(t,".csv")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},txtList:function(){var t=this;try{return l.a.map(l.a.filter(l.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return l.a.endsWith(t,".txt")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},formList:function(){var t=this;try{return l.a.map(l.a.filter(l.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return l.a.endsWith(t,".form")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},xmlList:function(){var t=this;try{return l.a.map(l.a.filter(l.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return l.a.endsWith(t,".xml")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},latest_doc:function(){var t=this;return l.a.reduce(this.tree,function(e,n,i){var s=l.a.filter(l.a.keys(n),function(t){return l.a.endsWith(t,".docx")});return e[i]=l.a.isEmpty(s)?void 0:"./data/".concat(t.selectedBekken,"/").concat(l.a.takeRight(s)),e},{})}},methods:{save:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i={};l.a.isString(n)?i["window"]=n:n>0?i["window"]=n:(i["data"]=t,i["filename"]=e);var s="/savecsv/".concat(this.selectedBekken,"/").concat(this.selectedStation);this.$api.post(s,i).then(function(t){var e=t.data;o.a.success("Submitted the recalculation task... Task ID:"+e);var n="/status/".concat(e),i=function t(){this.$api.get(n).then(function(n){"running"==n.data?(o.a.log("Task ".concat(e," still running..")),setTimeout(t,2e3)):"ready"==n.data?o.a.success("Task ".concat(e," is ready!")):"failed"==n.data&&o.a.error("Task ".concat(e," failed!"))})};setTimeout(i,2e3)},function(t){o.a.delay(0).error(t),o.a.reset()}),o.a.log("Starting recalculation!")},reload:function(){var t=this;o.a.confirm("Are you sure? Doing this will refetch everything from WISKI.",function(){t.$api.post("/reload/".concat(t.selectedBekken,"/").concat(t.selectedStation)).then(function(t){var e=t.data;o.a.success("Submitted the recalculation task... Task ID:"+e);var n="/status/".concat(e),i=function t(){this.$api.get(n).then(function(n){"running"==n.data?(o.a.log("Task ".concat(e," still running..")),setTimeout(t,2e3)):"ready"==n.data?o.a.success("Task ".concat(e," is ready!")):"failed"==n.data&&o.a.error("Task ".concat(e," failed!"))})};setTimeout(i,2e3)},function(t){o.a.delay(0).error(t),o.a.reset()}),o.a.log("Reloading ".concat(t.selectedBekken,"/").concat(t.selectedStation))},function(){})},isUnSupported:function(t){return!l.a.some([".csv",".png",".xml",".docx",".md",".log"],function(e){return l.a.endsWith(t,e)})},hasParameter:function(t,e){return l.a.some(l.a.map(l.a.keys(t),function(t){return l.a.includes(t,"".concat(e,".2.Relations"))}))},returnOnly:function(t,e){return l.a.filter(t,function(t){return e==l.a.head(l.a.split(l.a.last(l.a.split(t,"/")),"."))})},only0:function(t){return l.a.filter(t,function(t){return"0"==l.a.head(l.a.split(l.a.last(l.a.split(t,"/")),"."))})},hasImplemented:function(t){return l.a.includes(l.a.keys(t),"implemented.log")}},created:function(){var t=this,e=function(){t.wait=!0,t.$api.get("./tree").then(function(e){t.tree=e.data,setTimeout(function(){t.wait=!1},800)})};e(),"localhost3"!=this.host&&setInterval(e,5e3)},components:{"v-table":m,"v-text":$,scrolltop:B,formcomponent:P},watch:{selectedBekken:function(t,e){t||(this.selectedStation=void 0)},selectedStation:function(){this.wait=!1}}},W=E,M=(n("034f"),Object(v["a"])(W,s,a,!1,null,null,null));M.options.__file="App.vue";var R=M.exports,U=n("0d16"),J=n("bc3a"),N=n.n(J),A=N.a.create({baseURL:"/"}),q=A;i["a"].prototype.$_=l.a,i["a"].prototype.$csv=U["a"],i["a"].prototype.$api=q;e["default"]=new i["a"]({el:"#app",render:function(t){return t(R)}})},c21b:function(t,e,n){}});
//# sourceMappingURL=app.71ee647b.js.map