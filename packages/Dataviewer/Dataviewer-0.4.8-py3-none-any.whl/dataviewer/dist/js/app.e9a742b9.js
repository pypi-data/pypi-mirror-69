(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)r=o[d],i[r]&&f.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("c21b"),i=n.n(s);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"navbar navbar-expand navbar-dark bg-primary flex-column flex-md-row sticky-top justify-content-between"},[n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Dataviewer")]),n("transition",{attrs:{name:"fade"}},[t.wait?n("div",{staticClass:"navbar-text spinner"},[n("div",{staticClass:"double-bounce1"}),n("div",{staticClass:"double-bounce2"})]):t._e()])],1),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xl-3"},[n("div",{staticClass:"sidebar-sticky"},[n("div",{staticClass:"accordion"},t._l(t.tree,function(e,s){return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h5",{staticClass:"mb-0"},[n("button",{staticClass:"btn btn-link",attrs:{"data-target":"#"+s},on:{click:function(e){t.selectedBekken=t.selectedBekken==s?void 0:s}}},[t._v(t._s(s))])])]),t.selectedBekken==s?n("div",{attrs:{id:s}},[n("div",{staticClass:"list-group"},t._l(e,function(e,s){return t.isUnSupported(s)?n("a",{staticClass:"list-group-item list-group-item-action",class:{active:s==t.selectedStation},attrs:{href:"#"},on:{click:function(e){t.selectedStation=s}}},[t._v("\n                                          "+t._s(s.replace(".","/"))+"\n                                      ")]):t._e()}))]):t._e()])}))])]),n("div",{staticClass:"col mt-3",attrs:{id:"opmerkingen"}},[t.selectedStation?n("h3",[t._v(t._s(t.selectedStation)+"\n                  ")]):n("div",[n("h6",[t._v("Selecteer een station uit het menu.")]),t._l(t.catchImages,function(e){return n("div",[n("figure",{staticClass:"figure ",staticStyle:{width:"100%"}},[n("figcaption",{staticClass:"figure-caption"},[n("h6",[t._v("\n                                          "+t._s(t.$_.last(t.$_.split(t.$_.split(e,"?")[0],"/")))+"\n                                      ")])]),n("img",{staticClass:"img img-fluid  mx-auto d-block",attrs:{src:e,alt:""}})])])})],2),t._l(t.txtList,function(t){return n("div",[n("v-text",{attrs:{file:t}})],1)}),n("div",{attrs:{id:"plots"}}),t._l(t.imgList,function(e){return n("div",{attrs:{id:t.$_.last(t.$_.split(e,"/"))}},[n("figure",{staticClass:"figure ",staticStyle:{width:"100%"}},[n("figcaption",{staticClass:"figure-caption"},[n("h6",[t._v("\n                                  "+t._s(t.$_.join(t.$_.split(t.$_.last(t.$_.split(t.$_.split(e,"?")[0],"/")),".").slice(2),"."))+"\n                              ")])]),n("img",{staticClass:"img img-fluid  mx-auto d-block",attrs:{src:e,alt:""}})])])}),t._l(t.formList,function(e){return n("div",{staticClass:"mb-5 pb-5",attrs:{id:"forms"}},[n("formcomponent",{staticClass:"v-table",attrs:{file:e},on:{save:t.save}})],1)}),t._l(t.csvList,function(t){return n("div",{attrs:{id:"tabellen"}},[n("v-table",{staticClass:"v-table",attrs:{file:t}})],1)}),t._l(t.xmlList,function(e){return n("div",{staticClass:"mb-5 pb-5",attrs:{id:"links"}},[n("a",{attrs:{href:e}},[t._v(t._s(e))])])})],2),t.selectedStation?n("div",{staticClass:"col-xl-2 d-none d-xl-block sidebar-sticky   "},[n("ul",{staticClass:"section-nav"},[n("li",{staticClass:"toc-entry toc-h2"},[n("a",{attrs:{href:"#plots"}},[t._v("Plots")]),n("ul",t._l(t.imgList,function(e){return n("li",{staticClass:"toc-entry toc-h3"},[n("a",{attrs:{href:"#"+t.$_.last(t.$_.split(e,"/"))}},[t._v("\n                                      "+t._s(t.$_.split(t.$_.last(t.$_.split(e,"/")),"?")[0])+"\n                                  ")])])}))]),n("li",{staticClass:"toc-entry toc-h2"},[n("a",{attrs:{href:"#tabellen"}},[t._v("Tabels")]),n("ul",t._l(t.csvList,function(e){return n("li",{staticClass:"toc-entry toc-h3"},[n("a",{attrs:{href:"#"+t.$_.last(t.$_.split(e,"/"))}},[t._v("\n                                      "+t._s(t.$_.split(t.$_.last(t.$_.split(e,"/")),"?")[0])+"\n                                  ")])])}))])])]):t._e(),n("scrolltop")],1)])])},a=[],r=(n("28a5"),n("6762"),n("2fdb"),n("4917"),n("aef6"),n("ac6a"),n("bc3a")),o=n.n(r),c=o.a.create({baseURL:"/"}),l=c,u=n("a543"),d=n.n(u),f=n("2ef0"),h=n.n(f),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",{attrs:{id:t.$_.last(t.$_.split(t.file,"/"))}},[t._v(t._s(t.$_.last(t.$_.split(t.file,"/"))))]),n("table",{staticClass:"table table-bordered table-sm table-hover table-responsive "},[n("thead",{staticClass:"thead-light"},[n("tr",t._l(t.headers,function(e){return n("th",[t._v(t._s(e))])}))]),n("tbody",t._l(t.contents,function(e){return n("tr",t._l(e,function(e){return n("td",[t._v(t._s(e))])}))}))])])},p=[],m={props:["file"],data:function(){return{contents:{},interval:void 0}},created:function(){this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3)),console.log("created new interval!")},methods:{fetch:function(){var t=this;this.$csv(this.file,function(e){t.contents=e})}},watch:{file:function(t,e){t!=e&&(clearInterval(this.interval),this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3)),console.log("created new interval!"))}},computed:{headers:function(){return this.$_.keys(this.contents[0])}},beforeDestroy:function(){console.log("unload!"),clearInterval(this.interval)}},b=m,_=n("2877"),g=Object(_["a"])(b,v,p,!1,null,null,null);g.options.__file="table.vue";var k=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{domProps:{innerHTML:t._s(t.contents)}})},C=[],w={props:["file"],data:function(){return{contents:"",interval:void 0}},created:function(){this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3))},methods:{fetch:function(){var t=this;this.$axios.get(this.file).then(function(e){t.contents=e.data})}},watch:{file:function(t,e){t!=e&&(clearInterval(this.interval),this.fetch(),"localhost3"!=this.$parent.host&&(this.interval=setInterval(this.fetch,5e3)))}},beforeDestroy:function(){clearInterval(this.interval)}},$=w,S=Object(_["a"])($,y,C,!1,null,null,null);S.options.__file="text.vue";var x=S.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"backToTop",on:{click:function(e){t.backToTop()}}},[t._v(t._s(t.tekst))]):t._e()},B=[],D=(n("c5f6"),{data:function(){return{visible:!1}},props:{tekst:{type:String,default:"Scroll naar top"},visibleoffset:{type:[String,Number],default:600}},created:function(){var t=this,e=function(){t.visible=window.pageYOffset>parseInt(t.visibleoffset)};window.smoothscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(window.smoothscroll),window.scrollto(0,Math.floor(t-t/5))),window.onscroll=e}},methods:{backToTop:function(){return window.smoothscroll()}}}),j=D,O=Object(_["a"])(j,T,B,!1,null,null,null);O.options.__file="scrollTop.vue";var I=O.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[t.saving?t._e():n("table",{staticClass:"table table-bordered table-sm table-hover table-responsive"},[n("thead",{staticClass:"thead-light"},[n("tr",t._l(t.keys,function(e){return n("th",{key:"dummy"+e},[t._v("\n                          "+t._s(e)+"\n                      ")])}))]),t._l(t.contents,function(e,s){return n("tr",{key:"dummy2"+s},[t._l(e,function(s,i){return n("td",{key:"dummy3"+i},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e[i],expression:"item[key]"}],staticClass:"form-control",domProps:{value:e[i]},on:{input:function(n){n.target.composing||t.$set(e,i,n.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(t){e[i]=""}}},[n("span",{staticClass:"oi oi-delete"})])])])])}),n("td",[n("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){e.preventDefault(),t.remove(s)}}},[n("span",{staticClass:"oi oi-delete"})])])],2)})],2),t.saving?t._e():n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"text"},on:{click:function(e){return e.preventDefault(),t.addLine(e)}}},[n("span",{staticClass:"oi oi-plus"})]),n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"text"},on:{click:function(e){return e.preventDefault(),t.reset(e)}}},[n("span",{staticClass:"oi oi-reload"})]),t._m(0),t.$_.includes(t.file,"breakpoints")?n("div",[n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(15)}}},[t._v("15")]),n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(20)}}},[t._v("20")]),n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(25)}}},[t._v("25")]),n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(30)}}},[t._v("30")])]):n("div",[n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.save(t.contents[0]["start"])}}},[t._v("Use V")])])]),t.saving?n("div",{staticClass:"alert alert-danger"},[t._v("\n              ... saving and re-running implementation analysis...\n          ")]):t._e()])},P=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"}},[n("span",{staticClass:"oi oi-cloud-upload"})])}],E={data:function(){return{contents:void 0,saving:!1,stored:void 0}},props:["file"],computed:{keys:function(){return this.$_.isUndefined(this.contents)?[]:this.$_.keys(this.contents[0])},shortfile:function(){return this.$_.last(this.$_.split(this.$_.join(this.$_.dropRight(this.$_.split(this.file,".")),"."),"/"))},json:function(){return JSON.stringify(this.contents,function(t,e){return void 0===e?null:e})}},created:function(){this.fetch()},watch:{file:function(){this.editing=!1,this.fetch()}},methods:{fetch:function(){var t=this;return new Promise(function(e,n){t.editing||t.$csv(t.file,function(n){t.editing||(t.contents=n,t.stored=t.$_.cloneDeep(t.contents)),e()})})},addLine:function(){this.editing=!0,this.contents.push(this.$_.cloneDeep(this.$_.last(this.contents)))},save:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.editing=!1,this.saving=!0,this.$emit("save",JSON.stringify(this.contents),this.shortfile,e),setTimeout(function(){t.saving=!1,t.fetch()},1e4)},remove:function(t){this.editing=!0,this.contents.splice(t,1)},reset:function(){this.contents=this.$_.cloneDeep(this.stored)}}},W=E,M=Object(_["a"])(W,L,P,!1,null,null,null);M.options.__file="form.vue";var R=M.exports,U={name:"app",data:function(){return{tree:{},selectedStation:void 0,selectedBekken:void 0,wait:!1,host:window.location.hostname}},computed:{catchImages:function(){var t=this;return this.selectedBekken?h.a.map(h.a.filter(h.a.keys(this.tree[this.selectedBekken]),function(t){return h.a.endsWith(t,".png")}),function(e){return"./data/".concat(t.selectedBekken,"/").concat(e)}):[]},imgList:function(){var t=this;try{return h.a.map(h.a.filter(h.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return t.match(/.(jpg|png|svg)$/i)}),function(e){var n="./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e;return n="localhost3"!=t.host?n+"?"+(new Date).toLocaleTimeString():n,n})}catch(t){return[]}},csvList:function(){var t=this;try{return console.log("recalculating!"),h.a.map(h.a.filter(h.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return h.a.endsWith(t,".csv")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},txtList:function(){var t=this;try{return h.a.map(h.a.filter(h.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return h.a.endsWith(t,".txt")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},formList:function(){var t=this;try{return h.a.map(h.a.filter(h.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return h.a.endsWith(t,".form")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},xmlList:function(){var t=this;try{return h.a.map(h.a.filter(h.a.keys(this.tree[this.selectedBekken][this.selectedStation]),function(t){return h.a.endsWith(t,".xml")}),function(e){return"./data/"+t.selectedBekken+"/"+t.selectedStation+"/"+e})}catch(t){return[]}},latest_doc:function(){var t=this;return h.a.reduce(this.tree,function(e,n,s){var i=h.a.filter(h.a.keys(n),function(t){return h.a.endsWith(t,".docx")});return e[s]=h.a.isEmpty(i)?void 0:"./data/".concat(t.selectedBekken,"/").concat(h.a.takeRight(i)),e},{})}},methods:{save:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s={};h.a.isString(n)?s["window"]=n:n>0?s["window"]=n:(s["data"]=t,s["filename"]=e);var i="/savecsv/".concat(this.selectedBekken,"/").concat(this.selectedStation);l.post(i,s).then(function(t){var e=t.data;d.a.success("Submitted the recalculation task... Task ID:"+e);var n="/status/".concat(e),s=function t(){l.get(n).then(function(n){"running"==n.data?(d.a.log("Task ".concat(e," still running..")),setTimeout(t,2e3)):"ready"==n.data?d.a.success("Task ".concat(e," is ready!")):"failed"==n.data&&d.a.error("Task ".concat(e," failed!"))})};setTimeout(s,2e3)},function(t){d.a.delay(0).error(t),d.a.reset()}),d.a.log("Starting recalculation!")},reload:function(){var t=this;d.a.confirm("Are you sure? Doing this will refetch everything from WISKI.",function(){l.post("/reload/".concat(t.selectedBekken,"/").concat(t.selectedStation)).then(function(t){var e=t.data;d.a.success("Submitted the recalculation task... Task ID:"+e);var n="/status/".concat(e),s=function t(){l.get(n).then(function(n){"running"==n.data?(d.a.log("Task ".concat(e," still running..")),setTimeout(t,2e3)):"ready"==n.data?d.a.success("Task ".concat(e," is ready!")):"failed"==n.data&&d.a.error("Task ".concat(e," failed!"))})};setTimeout(s,2e3)},function(t){d.a.delay(0).error(t),d.a.reset()}),d.a.log("Reloading ".concat(t.selectedBekken,"/").concat(t.selectedStation))},function(){})},isUnSupported:function(t){return!h.a.some([".csv",".png",".xml",".docx",".md",".log"],function(e){return h.a.endsWith(t,e)})},hasParameter:function(t,e){return h.a.some(h.a.map(h.a.keys(t),function(t){return h.a.includes(t,"".concat(e,".2.Relations"))}))},returnOnly:function(t,e){return h.a.filter(t,function(t){return e==h.a.head(h.a.split(h.a.last(h.a.split(t,"/")),"."))})},only0:function(t){return h.a.filter(t,function(t){return"0"==h.a.head(h.a.split(h.a.last(h.a.split(t,"/")),"."))})},hasImplemented:function(t){return h.a.includes(h.a.keys(t),"implemented.log")}},created:function(){var t=this,e=function(){t.wait=!0,l.get("./tree").then(function(e){t.tree=e.data,setTimeout(function(){t.wait=!1},800)})};e(),"localhost3"!=this.host&&setInterval(e,5e3)},components:{"v-table":k,"v-text":x,scrolltop:I,formcomponent:R},watch:{selectedBekken:function(t,e){t||(this.selectedStation=void 0)},selectedStation:function(){this.wait=!1}}},J=U,N=(n("034f"),Object(_["a"])(J,i,a,!1,null,null,null));N.options.__file="App.vue";var A=N.exports,q=n("0d16");s["a"].prototype.$_=h.a,s["a"].prototype.$csv=q["a"];e["default"]=new s["a"]({el:"#app",render:function(t){return t(A)}})},c21b:function(t,e,n){}});
//# sourceMappingURL=app.e9a742b9.js.map