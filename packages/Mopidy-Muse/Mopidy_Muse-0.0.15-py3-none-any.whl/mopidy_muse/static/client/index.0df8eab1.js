import{S as a,b as l,s,Q as t,a5 as c,I as e,l as n,P as r,C as o,D as i,j as u,e as f,d as h,t as m,w as d,f as p,g as v,h as g,n as $,x as b,k as E,y as k,m as y,z as w,p as x,r as I,q as D,V,F as P,E as N,L as T,a3 as A,M as C,Y as O,a6 as M,o as B,O as S,a7 as L,a8 as U,a9 as q,_ as j,i as F,aa as H,ab as R,ac as z,ad as Q,ae as Y,$ as _,T as G,af as J,ag as K,ah as W,ai as X}from"./client.0ef709ed.js";function Z(a){let l,s,t,c={ctx:a,current:null,token:null,pending:ca,then:la,catch:aa,value:10,error:11,blocks:[,,,]};return r(s=a[2],c),{c(){l=e(),c.block.c()},l(a){l=e(),c.block.l(a)},m(a,s){n(a,l,s),c.block.m(a,c.anchor=s),c.mount=(()=>l.parentNode),c.anchor=l,t=!0},p(l,t){if(a=l,c.ctx=a,4&t&&s!==(s=a[2])&&r(s,c));else{const l=a.slice();l[10]=c.resolved,c.block.p(l,t)}},i(a){t||(o(c.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=c.blocks[a];i(l)}t=!1},d(a){a&&u(l),c.block.d(a),c.token=null,c=null}}}function aa(a){let l,s=a[11].message+"";return{c(){l=m(s)},l(a){l=$(a,s)},m(a,s){n(a,l,s)},p(a,t){4&t&&s!==(s=a[11].message+"")&&B(l,s)},i:S,o:S,d(a){a&&u(l)}}}function la(a){let l,s,t,c;const r=[ta,sa],f=[];function h(a,l){return a[10]?0:1}return l=h(a),s=f[l]=r[l](a),{c(){s.c(),t=e()},l(a){s.l(a),t=e()},m(a,s){f[l].m(a,s),n(a,t,s),c=!0},p(a,c){let e=l;(l=h(a))===e?f[l].p(a,c):(V(),i(f[e],1,1,()=>{f[e]=null}),P(),(s=f[l])||(s=f[l]=r[l](a)).c(),o(s,1),s.m(t.parentNode,t))},i(a){c||(o(s),c=!0)},o(a){i(s),c=!1},d(a){f[l].d(a),a&&u(t)}}}function sa(a){let l;return{c(){l=m("Error")},l(a){l=$(a,"Error")},m(a,s){n(a,l,s)},p:S,i:S,o:S,d(a){a&&u(l)}}}function ta(a){let l,s;const c=new t({props:{icon:U,class:"icon"}});return{c(){l=f("button"),d(c.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=v(l);b(c.$$.fragment,s),s.forEach(u),this.h()},h(){E(l,"class","button svelte-vctgx4")},m(a,t){n(a,l,t),w(c,l,null),s=!0},p:S,i(a){s||(o(c.$$.fragment,a),s=!0)},o(a){i(c.$$.fragment,a),s=!1},d(a){a&&u(l),N(c)}}}function ca(a){let l,s;const c=new t({props:{icon:L,spin:!0,class:"icon"}});return{c(){l=f("button"),d(c.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=v(l);b(c.$$.fragment,s),s.forEach(u),this.h()},h(){E(l,"class","button svelte-vctgx4")},m(a,t){n(a,l,t),w(c,l,null),s=!0},p:S,i(a){s||(o(c.$$.fragment,a),s=!0)},o(a){i(c.$$.fragment,a),s=!1},d(a){a&&u(l),N(c)}}}function ea(a){let l,s,e,r,T,A,C,O,M,B,S,L,U,q,j,F,H,R,z,Q,Y,_,G,J,K;const W=new t({props:{icon:c,class:"icon"}});let X=a[2]&&Z(a);return{c(){l=f("div"),s=f("div"),e=h(),r=f("div"),T=f("header"),A=f("p"),C=m("Create playlist"),O=h(),M=f("a"),d(W.$$.fragment),S=h(),L=f("section"),U=f("label"),q=m("Name"),j=h(),F=f("input"),H=h(),R=f("footer"),z=f("button"),Q=m("Save changes"),Y=h(),X&&X.c(),_=h(),G=f("button"),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=v(l);s=p(t,"DIV",{class:!0}),v(s).forEach(u),e=g(t),r=p(t,"DIV",{class:!0});var c=v(r);T=p(c,"HEADER",{class:!0});var n=v(T);A=p(n,"P",{class:!0});var o=v(A);C=$(o,"Create playlist"),o.forEach(u),O=g(n),M=p(n,"A",{href:!0,"aria-label":!0});var i=v(M);b(W.$$.fragment,i),i.forEach(u),n.forEach(u),S=g(c),L=p(c,"SECTION",{class:!0});var f=v(L);U=p(f,"LABEL",{class:!0});var h=v(U);q=$(h,"Name"),h.forEach(u),j=g(f),F=p(f,"INPUT",{class:!0,type:!0,name:!0,id:!0}),f.forEach(u),H=g(c),R=p(c,"FOOTER",{class:!0});var m=v(R);z=p(m,"BUTTON",{class:!0});var d=v(z);Q=$(d,"Save changes"),d.forEach(u),Y=g(m),X&&X.l(m),m.forEach(u),c.forEach(u),_=g(t),G=p(t,"BUTTON",{class:!0,"aria-label":!0}),v(G).forEach(u),t.forEach(u),this.h()},h(){E(s,"class","modal-background svelte-vctgx4"),E(A,"class","modal-card-title svelte-vctgx4"),E(M,"href",B=null),E(M,"aria-label","close"),E(T,"class","modal-card-head svelte-vctgx4"),E(U,"class","label"),E(F,"class","input svelte-vctgx4"),E(F,"type","text"),E(F,"name","playlist name"),E(F,"id","playlist name"),E(L,"class","modal-card-body svelte-vctgx4"),E(z,"class","button is-success svelte-vctgx4"),E(R,"class","modal-card-foot svelte-vctgx4"),E(r,"class","modal-card svelte-vctgx4"),E(G,"class","modal-close is-large svelte-vctgx4"),E(G,"aria-label","close"),E(l,"class","modal svelte-vctgx4"),k(l,"is-active",a[0])},m(t,c,o){n(t,l,c),y(l,s),y(l,e),y(l,r),y(r,T),y(T,A),y(A,C),y(T,O),y(T,M),w(W,M,null),y(r,S),y(r,L),y(L,U),y(U,q),y(L,j),y(L,F),x(F,a[1]),y(r,H),y(r,R),y(R,z),y(z,Q),y(R,Y),X&&X.m(R,null),y(l,_),y(l,G),J=!0,o&&I(K),K=[D(s,"click",a[6]),D(M,"click",a[7]),D(F,"input",a[8]),D(z,"click",a[3]),D(G,"click",a[9])]},p(a,[s]){2&s&&F.value!==a[1]&&x(F,a[1]),a[2]?X?(X.p(a,s),o(X,1)):((X=Z(a)).c(),o(X,1),X.m(R,null)):X&&(V(),i(X,1,1,()=>{X=null}),P()),1&s&&k(l,"is-active",a[0])},i(a){J||(o(W.$$.fragment,a),o(X),J=!0)},o(a){i(W.$$.fragment,a),i(X),J=!1},d(a){a&&u(l),N(W),X&&X.d(),I(K)}}}function na(a,l,s){let t;T(a,A,a=>s(4,t=a));let c,e="",{showCreatePlaylistModal:n}=l;C(async()=>{O(A,t=await M())});const r=async()=>{return!!await t.playlists.create({name:e})&&(setTimeout(()=>{s(0,n=!n)},1500),!0)};return a.$set=(a=>{"showCreatePlaylistModal"in a&&s(0,n=a.showCreatePlaylistModal)}),[n,e,c,()=>{s(2,c=r())},t,r,()=>s(0,n=!n),()=>s(0,n=!n),function(){e=this.value,s(1,e)},()=>s(0,n=!n)]}class ra extends a{constructor(a){super(),l(this,a,na,ea,s,{showCreatePlaylistModal:0})}}function oa(a,l,s){const t=a.slice();return t[8]=l[s],t[10]=s,t}function ia(a){let l,s,t,c={ctx:a,current:null,token:null,pending:ga,then:fa,catch:ua,value:6,error:7,blocks:[,,,]};return r(s=a[0],c),{c(){l=e(),c.block.c()},l(a){l=e(),c.block.l(a)},m(a,s){n(a,l,s),c.block.m(a,c.anchor=s),c.mount=(()=>l.parentNode),c.anchor=l,t=!0},p(l,t){if(a=l,c.ctx=a,1&t&&s!==(s=a[0])&&r(s,c));else{const l=a.slice();l[6]=c.resolved,c.block.p(l,t)}},i(a){t||(o(c.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=c.blocks[a];i(l)}t=!1},d(a){a&&u(l),c.block.d(a),c.token=null,c=null}}}function ua(a){let l,s,t=a[7].message+"";return{c(){l=f("p"),s=m(t),this.h()},l(a){l=p(a,"P",{class:!0,style:!0});var c=v(l);s=$(c,t),c.forEach(u),this.h()},h(){E(l,"class","list-item"),j(l,"color","red")},m(a,t){n(a,l,t),y(l,s)},p(a,l){1&l&&t!==(t=a[7].message+"")&&B(s,t)},i:S,o:S,d(a){a&&u(l)}}}function fa(a){let l,s,t=a[2],c=[];for(let l=0;l<t.length;l+=1)c[l]=va(oa(a,t,l));const r=a=>i(c[a],1,1,()=>{c[a]=null});let f=null;return t.length||(f=ha()),{c(){for(let a=0;a<c.length;a+=1)c[a].c();l=e(),f&&f.c()},l(a){for(let l=0;l<c.length;l+=1)c[l].l(a);l=e(),f&&f.l(a)},m(a,t){for(let l=0;l<c.length;l+=1)c[l].m(a,t);n(a,l,t),f&&f.m(a,t),s=!0},p(a,s){if(4&s){let e;for(t=a[2],e=0;e<t.length;e+=1){const n=oa(a,t,e);c[e]?(c[e].p(n,s),o(c[e],1)):(c[e]=va(n),c[e].c(),o(c[e],1),c[e].m(l.parentNode,l))}for(V(),e=t.length;e<c.length;e+=1)r(e);P(),t.length?f&&(f.d(1),f=null):f||((f=ha()).c(),f.m(l.parentNode,l))}},i(a){if(!s){for(let a=0;a<t.length;a+=1)o(c[a]);s=!0}},o(a){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)i(c[a]);s=!1},d(a){Y(c,a),a&&u(l),f&&f.d(a)}}}function ha(a){let l,s,t,c;return{c(){l=f("div"),s=f("p"),t=m("loading"),c=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var e=v(l);s=p(e,"P",{});var n=v(s);t=$(n,"loading"),n.forEach(u),c=g(e),e.forEach(u),this.h()},h(){E(l,"class","list-item")},m(a,e){n(a,l,e),y(l,s),y(s,t),y(l,c)},d(a){a&&u(l)}}}function ma(a){let l,s=a[7].message+"";return{c(){l=m(s)},l(a){l=$(a,s)},m(a,s){n(a,l,s)},p(a,t){4&t&&s!==(s=a[7].message+"")&&B(l,s)},d(a){a&&u(l)}}}function da(a){let l,s,t,c=(a[11].tracks?a[11].tracks.length:"0")+"";return{c(){l=m("("),s=m(c),t=m(")")},l(a){l=$(a,"("),s=$(a,c),t=$(a,")")},m(a,c){n(a,l,c),n(a,s,c),n(a,t,c)},p(a,l){4&l&&c!==(c=(a[11].tracks?a[11].tracks.length:"0")+"")&&B(s,c)},d(a){a&&u(l),a&&u(s),a&&u(t)}}}function pa(a){let l;return{c(){l=m("loading..")},l(a){l=$(a,"loading..")},m(a,s){n(a,l,s)},p:S,d(a){a&&u(l)}}}function va(a){let l,s,c,e,x,V,P,T,A,C,O,M,S,L,U,q,j,Y,W,X,Z,aa,la,sa,ta,ca,ea,na,ra,oa=a[8].name+"",ia={ctx:a,current:null,token:null,pending:pa,then:da,catch:ma,value:11,error:7};r(T=Q(a[8].uri),ia);const ua=new t({props:{icon:_,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});function fa(...l){return a[5](a[8],...l)}const ha=new t({props:{icon:G,class:"icon is-small"}}),va=new t({props:{icon:J,class:"icon is-small"}}),ga=new t({props:{icon:K,class:"icon is-small"}});return{c(){l=f("div"),s=f("div"),c=f("a"),e=m(oa),V=h(),P=f("div"),ia.block.c(),A=h(),C=f("div"),O=f("div"),M=f("div"),d(ua.$$.fragment),S=h(),L=f("div"),U=f("div"),q=f("a"),d(ha.$$.fragment),j=m(" \n                        Play"),W=h(),X=f("a"),d(va.$$.fragment),Z=m(" \n                        Shuffle"),la=h(),sa=f("a"),d(ga.$$.fragment),ta=m(" \n                        Add to queue"),ea=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=v(l);s=p(t,"DIV",{class:!0});var n=v(s);c=p(n,"A",{class:!0,href:!0});var r=v(c);e=$(r,oa),r.forEach(u),V=g(n),P=p(n,"DIV",{class:!0});var o=v(P);ia.block.l(o),o.forEach(u),A=g(n),C=p(n,"DIV",{class:!0});var i=v(C);O=p(i,"DIV",{class:!0});var f=v(O);M=p(f,"DIV",{class:!0});var h=v(M);b(ua.$$.fragment,h),h.forEach(u),S=g(f),L=p(f,"DIV",{class:!0,id:!0,role:!0});var m=v(L);U=p(m,"DIV",{class:!0});var d=v(U);q=p(d,"A",{href:!0,class:!0});var E=v(q);b(ha.$$.fragment,E),j=$(E," \n                        Play"),E.forEach(u),W=g(d),X=p(d,"A",{href:!0,class:!0});var k=v(X);b(va.$$.fragment,k),Z=$(k," \n                        Shuffle"),k.forEach(u),la=g(d),sa=p(d,"A",{href:!0,class:!0});var y=v(sa);b(ga.$$.fragment,y),ta=$(y," \n                        Add to queue"),y.forEach(u),d.forEach(u),m.forEach(u),f.forEach(u),i.forEach(u),n.forEach(u),ea=g(t),t.forEach(u),this.h()},h(){E(c,"class","column"),E(c,"href",x="playlists/"+a[8].slug),E(P,"class","column is-narrow"),E(M,"class","dropdown-trigger"),E(q,"href",Y=null),E(q,"class","dropdown-item"),E(X,"href",aa=null),E(X,"class","dropdown-item"),E(sa,"href",ca=null),E(sa,"class","dropdown-item"),E(U,"class","dropdown-content"),E(L,"class","dropdown-menu"),E(L,"id","dropdown-menu"),E(L,"role","menu"),E(O,"class","dropdown is-right is-up"),k(O,"is-active",a[8].visibility),E(C,"class","column is-narrow"),E(s,"class","columns is-mobile"),E(l,"class","list-item")},m(t,r,o){n(t,l,r),y(l,s),y(s,c),y(c,e),y(s,V),y(s,P),ia.block.m(P,ia.anchor=null),ia.mount=(()=>P),ia.anchor=null,y(s,A),y(s,C),y(C,O),y(O,M),w(ua,M,null),y(O,S),y(O,L),y(L,U),y(U,q),w(ha,q,null),y(q,j),y(U,W),y(U,X),w(va,X,null),y(X,Z),y(U,la),y(U,sa),w(ga,sa,null),y(sa,ta),y(l,ea),na=!0,o&&I(ra),ra=[D(M,"click",fa),D(q,"click",function(){F(H(a[8].uri))&&H(a[8].uri).apply(this,arguments)}),D(X,"click",function(){F(R(a[8].uri))&&R(a[8].uri).apply(this,arguments)}),D(sa,"click",function(){F(z(a[8].uri))&&z(a[8].uri).apply(this,arguments)})]},p(l,s){if(a=l,(!na||4&s)&&oa!==(oa=a[8].name+"")&&B(e,oa),(!na||4&s&&x!==(x="playlists/"+a[8].slug))&&E(c,"href",x),ia.ctx=a,4&s&&T!==(T=Q(a[8].uri))&&r(T,ia));else{const l=a.slice();l[11]=ia.resolved,ia.block.p(l,s)}4&s&&k(O,"is-active",a[8].visibility)},i(a){na||(o(ua.$$.fragment,a),o(ha.$$.fragment,a),o(va.$$.fragment,a),o(ga.$$.fragment,a),na=!0)},o(a){i(ua.$$.fragment,a),i(ha.$$.fragment,a),i(va.$$.fragment,a),i(ga.$$.fragment,a),na=!1},d(a){a&&u(l),ia.block.d(),ia.token=null,ia=null,N(ua),N(ha),N(va),N(ga),I(ra)}}}function ga(a){let l,s,c;const e=new t({props:{icon:L,class:"icon is-24",spin:!0}});return{c(){l=f("p"),d(e.$$.fragment),s=m("\n        Loading playlists .."),this.h()},l(a){l=p(a,"P",{class:!0});var t=v(l);b(e.$$.fragment,t),s=$(t,"\n        Loading playlists .."),t.forEach(u),this.h()},h(){E(l,"class","list-item")},m(a,t){n(a,l,t),w(e,l,null),y(l,s),c=!0},p:S,i(a){c||(o(e.$$.fragment,a),c=!0)},o(a){i(e.$$.fragment,a),c=!1},d(a){a&&u(l),N(e)}}}function $a(a){let l,s,c,e,r,k,x,I,T,A,C,O,M;const B=new t({props:{icon:q,class:"icon"}}),S=new ra({props:{showCreatePlaylistModal:a[1]}});let L=a[0]&&ia(a);return{c(){l=f("div"),s=f("div"),c=f("h1"),e=m("Playlists"),r=h(),k=f("div"),x=f("a"),d(B.$$.fragment),T=h(),d(S.$$.fragment),A=h(),C=f("div"),L&&L.c(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=v(l);s=p(t,"DIV",{class:!0});var n=v(s);c=p(n,"H1",{class:!0});var o=v(c);e=$(o,"Playlists"),o.forEach(u),n.forEach(u),r=g(t),k=p(t,"DIV",{class:!0});var i=v(k);x=p(i,"A",{class:!0,href:!0});var f=v(x);b(B.$$.fragment,f),f.forEach(u),i.forEach(u),t.forEach(u),T=g(a),b(S.$$.fragment,a),A=g(a),C=p(a,"DIV",{class:!0});var h=v(C);L&&L.l(h),h.forEach(u),this.h()},h(){E(c,"class","title"),E(s,"class","column"),E(x,"class","button"),E(x,"href",I=null),E(k,"class","column is-narrow"),E(l,"class","columns is-mobile"),E(C,"class","list is-hoverable")},m(t,o,i){n(t,l,o),y(l,s),y(s,c),y(c,e),y(l,r),y(l,k),y(k,x),w(B,x,null),n(t,T,o),w(S,t,o),n(t,A,o),n(t,C,o),L&&L.m(C,null),O=!0,i&&M(),M=D(x,"click",a[4])},p(a,[l]){const s={};2&l&&(s.showCreatePlaylistModal=a[1]),S.$set(s),a[0]?L?(L.p(a,l),o(L,1)):((L=ia(a)).c(),o(L,1),L.m(C,null)):L&&(V(),i(L,1,1,()=>{L=null}),P())},i(a){O||(o(B.$$.fragment,a),o(S.$$.fragment,a),o(L),O=!0)},o(a){i(B.$$.fragment,a),i(S.$$.fragment,a),i(L),O=!1},d(a){a&&u(l),N(B),a&&u(T),N(S,a),a&&u(A),a&&u(C),L&&L.d(),M()}}}function ba(a,l,s){let t,c;T(a,X,a=>s(2,t=a));let e=!1;C(async()=>{s(0,c=n())});const n=async()=>{O(X,t=await W())};return[c,e,t,n,()=>s(1,e=!e),a=>O(X,a.visibility=!a.visibility,t)]}export default class extends a{constructor(a){super(),l(this,a,ba,$a,s,{})}}
