import{S as l,a,s,e as n,t,b as e,c as r,d as c,l as o,g as i,f as h,h as u,j as f,k as m,p,m as d,L as g,y as v,A as $,C as b,F as w,q as E,u as k,w as y,r as I,i as A,an as V,ao as D,ap as x,B as P,ad as B,G as q,I as L,J as N,Z as j,z as O,M as R,a6 as z,Q as C,O as F,aq as G,ak as H,V as J,a5 as M,a1 as Q,_ as S,$ as U}from"./client.c8931d90.js";function Z(l,a,s){const n=l.slice();return n[10]=a[s],n[12]=s,n}function _(l,a,s){const n=l.slice();return n[14]=a[s],n[12]=s,n}function K(l){let a,s,g,v,$,b,w=l[14].name+"";function E(...a){return l[8](l[14],l[12],...a)}return{c(){a=n("li"),s=n("a"),g=t(w),$=e(),this.h()},l(l){a=r(l,"LI",{class:!0});var n=c(a);s=r(n,"A",{href:!0,class:!0});var t=c(s);g=o(t,w),t.forEach(i),$=h(n),n.forEach(i),this.h()},h(){u(s,"href",v=null),u(s,"class","svelte-g89v9p"),u(a,"class","svelte-g89v9p")},m(l,n,t){f(l,a,n),m(a,s),m(s,g),m(a,$),t&&b(),b=p(s,"click",E)},p(a,s){l=a,1&s&&w!==(w=l[14].name+"")&&d(g,w)},d(l){l&&i(a),b()}}}function T(l){let a,s,t,e={ctx:l,current:null,token:null,pending:Y,then:X,catch:W,error:13,blocks:[,,,]};return g(s=l[2],e),{c(){a=n("div"),e.block.c(),this.h()},l(l){a=r(l,"DIV",{class:!0});var s=c(a);e.block.l(s),s.forEach(i),this.h()},h(){u(a,"class","list is-hoverable")},m(l,s){f(l,a,s),e.block.m(a,e.anchor=null),e.mount=(()=>a),e.anchor=null,t=!0},p(a,n){if(l=a,e.ctx=l,4&n&&s!==(s=l[2])&&g(s,e));else{const a=l.slice();e.block.p(a,n)}},i(l){t||(v(e.block),t=!0)},o(l){for(let l=0;l<3;l+=1){const a=e.blocks[l];$(a)}t=!1},d(l){l&&i(a),e.block.d(),e.token=null,e=null}}}function W(l){let a,s,e=l[13].message+"";return{c(){a=n("p"),s=t(e),this.h()},l(l){a=r(l,"P",{class:!0,style:!0});var n=c(a);s=o(n,e),n.forEach(i),this.h()},h(){u(a,"class","list-item"),j(a,"color","red")},m(l,n){f(l,a,n),m(a,s)},p(l,a){4&a&&e!==(e=l[13].message+"")&&d(s,e)},i:O,o:O,d(l){l&&i(a)}}}function X(l){return{c:O,l:O,m:O,p:O,i:O,o:O,d:O}}function Y(l){let a,s;const t=new R({props:{icon:z,class:"icon is-24",spin:!0}});return{c(){a=n("p"),E(t.$$.fragment),this.h()},l(l){a=r(l,"P",{class:!0});var s=c(a);k(t.$$.fragment,s),s.forEach(i),this.h()},h(){u(a,"class","list-item")},m(l,n){f(l,a,n),y(t,a,null),s=!0},p:O,i(l){s||(v(t.$$.fragment,l),s=!0)},o(l){$(t.$$.fragment,l),s=!1},d(l){l&&i(a),P(t)}}}function ll(l){let a,s,t=l[1],e=[];for(let a=0;a<t.length;a+=1)e[a]=rl(Z(l,t,a));const o=l=>$(e[l],1,1,()=>{e[l]=null});let h=null;return t.length||(h=al()),{c(){a=n("div");for(let l=0;l<e.length;l+=1)e[l].c();h&&h.c(),this.h()},l(l){a=r(l,"DIV",{class:!0});var s=c(a);for(let l=0;l<e.length;l+=1)e[l].l(s);h&&h.l(s),s.forEach(i),this.h()},h(){u(a,"class","list is-hoverable")},m(l,n){f(l,a,n);for(let l=0;l<e.length;l+=1)e[l].m(a,null);h&&h.m(a,null),s=!0},p(l,s){if(30&s){let n;for(t=l[1],n=0;n<t.length;n+=1){const r=Z(l,t,n);e[n]?(e[n].p(r,s),v(e[n],1)):(e[n]=rl(r),e[n].c(),v(e[n],1),e[n].m(a,null))}for(C(),n=t.length;n<e.length;n+=1)o(n);b(),t.length?h&&(h.d(1),h=null):h||((h=al()).c(),h.m(a,null))}},i(l){if(!s){for(let l=0;l<t.length;l+=1)v(e[l]);s=!0}},o(l){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)$(e[l]);s=!1},d(l){l&&i(a),B(e,l),h&&h.d()}}}function al(l){let a,s,e;return{c(){a=n("a"),s=t("no results\n      "),this.h()},l(l){a=r(l,"A",{href:!0,class:!0});var n=c(a);s=o(n,"no results\n      "),n.forEach(i),this.h()},h(){u(a,"href",e=null),u(a,"class","list-item")},m(l,n){f(l,a,n),m(a,s)},d(l){l&&i(a)}}}function sl(l){let a;const s=new R({props:{icon:S,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){E(s.$$.fragment)},l(l){k(s.$$.fragment,l)},m(l,n){y(s,l,n),a=!0},p:O,i(l){a||(v(s.$$.fragment,l),a=!0)},o(l){$(s.$$.fragment,l),a=!1},d(l){P(s,l)}}}function nl(l){let a;const s=new R({props:{icon:U,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){E(s.$$.fragment)},l(l){k(s.$$.fragment,l)},m(l,n){y(s,l,n),a=!0},p:O,i(l){a||(v(s.$$.fragment,l),a=!0)},o(l){$(s.$$.fragment,l),a=!1},d(l){P(s,l)}}}function tl(l){let a,s,n="track"==l[10].type&&el(l);return{c(){n&&n.c(),a=w()},l(l){n&&n.l(l),a=w()},m(l,t){n&&n.m(l,t),f(l,a,t),s=!0},p(l,s){"track"==l[10].type?n?(n.p(l,s),v(n,1)):((n=el(l)).c(),v(n,1),n.m(a.parentNode,a)):n&&(C(),$(n,1,1,()=>{n=null}),b())},i(l){s||(v(n),s=!0)},o(l){$(n),s=!1},d(l){n&&n.d(l),l&&i(a)}}}function el(l){let a,s,d,g,b,w,B,q,L,N,j,O,z,C,J,M,Q;const S=new R({props:{icon:F,class:"icon is-small"}}),U=new R({props:{icon:G,class:"icon is-small"}}),Z=new R({props:{icon:H,class:"icon is-small"}});return{c(){a=n("div"),s=n("div"),d=n("a"),E(S.$$.fragment),g=t(" \n                        Play now"),w=e(),B=n("div"),q=n("a"),E(U.$$.fragment),L=t(" \n                        Play next"),j=e(),O=n("div"),z=n("a"),E(Z.$$.fragment),C=t(" \n                        Add to queue"),this.h()},l(l){a=r(l,"DIV",{class:!0});var n=c(a);s=r(n,"DIV",{class:!0});var t=c(s);d=r(t,"A",{href:!0,class:!0});var e=c(d);k(S.$$.fragment,e),g=o(e," \n                        Play now"),e.forEach(i),t.forEach(i),w=h(n),B=r(n,"DIV",{class:!0});var u=c(B);q=r(u,"A",{href:!0,class:!0});var f=c(q);k(U.$$.fragment,f),L=o(f," \n                        Play next"),f.forEach(i),u.forEach(i),j=h(n),O=r(n,"DIV",{class:!0});var m=c(O);z=r(m,"A",{href:!0,class:!0});var p=c(z);k(Z.$$.fragment,p),C=o(p," \n                        Add to queue"),p.forEach(i),m.forEach(i),n.forEach(i),this.h()},h(){u(d,"href",b=null),u(d,"class","dropdown-item"),u(s,"class","list-item"),u(q,"href",N=null),u(q,"class","dropdown-item"),u(B,"class","list-item"),u(z,"href",J=null),u(z,"class","dropdown-item"),u(O,"class","list-item"),u(a,"class","list is-hoverable")},m(n,t,e){f(n,a,t),m(a,s),m(s,d),y(S,d,null),m(d,g),m(a,w),m(a,B),m(B,q),y(U,q,null),m(q,L),m(a,j),m(a,O),m(O,z),y(Z,z,null),m(z,C),M=!0,e&&I(Q),Q=[p(d,"click",function(){A(V(l[10].uri))&&V(l[10].uri).apply(this,arguments)}),p(q,"click",function(){A(D(l[10].uri))&&D(l[10].uri).apply(this,arguments)}),p(z,"click",function(){A(x(l[10].uri))&&x(l[10].uri).apply(this,arguments)})]},p(a,s){l=a},i(l){M||(v(S.$$.fragment,l),v(U.$$.fragment,l),v(Z.$$.fragment,l),M=!0)},o(l){$(S.$$.fragment,l),$(U.$$.fragment,l),$(Z.$$.fragment,l),M=!1},d(l){l&&i(a),P(S),P(U),P(Z),I(Q)}}}function rl(l){let a,s,g,w,E,k,y,I,A,V,D,x,P,B=l[10].name+"";const q=[nl,sl],L=[];function N(l,a){return l[3]==l[12]?0:1}y=N(l),I=L[y]=q[y](l);let j=l[3]==l[12]&&tl(l);function O(...a){return l[9](l[10],l[12],...a)}return{c(){a=n("a"),s=n("div"),g=n("div"),w=t(B),E=e(),k=n("div"),I.c(),A=e(),j&&j.c(),V=e(),this.h()},l(l){a=r(l,"A",{href:!0,class:!0});var n=c(a);s=r(n,"DIV",{class:!0});var t=c(s);g=r(t,"DIV",{class:!0});var e=c(g);w=o(e,B),e.forEach(i),E=h(t),k=r(t,"DIV",{class:!0});var u=c(k);I.l(u),u.forEach(i),t.forEach(i),A=h(n),j&&j.l(n),V=h(n),n.forEach(i),this.h()},h(){u(g,"class","column"),u(k,"class","column is-narrow"),u(s,"class","columns is-mobile"),u(a,"href",D=null),u(a,"class","list-item")},m(l,n,t){f(l,a,n),m(a,s),m(s,g),m(g,w),m(s,E),m(s,k),L[y].m(k,null),m(a,A),j&&j.m(a,null),m(a,V),x=!0,t&&P(),P=p(a,"click",O)},p(s,n){l=s,(!x||2&n)&&B!==(B=l[10].name+"")&&d(w,B);let t=y;(y=N(l))===t?L[y].p(l,n):(C(),$(L[t],1,1,()=>{L[t]=null}),b(),(I=L[y])||(I=L[y]=q[y](l)).c(),v(I,1),I.m(k,null)),l[3]==l[12]?j?(j.p(l,n),v(j,1)):((j=tl(l)).c(),v(j,1),j.m(a,V)):j&&(C(),$(j,1,1,()=>{j=null}),b())},i(l){x||(v(I),v(j),x=!0)},o(l){$(I),$(j),x=!1},d(l){l&&i(a),L[y].d(),j&&j.d(),P()}}}function cl(l){let a,s,d,g,E,k,y,I,A,V,D,x,P,L,N,j,O=l[0],R=[];for(let a=0;a<O.length;a+=1)R[a]=K(_(l,O,a));let z=l[2]&&T(l),F=l[1].length>0&&ll(l);return{c(){a=e(),s=n("h1"),d=t("Browse"),g=e(),E=n("nav"),k=n("ul"),y=n("li"),I=n("a"),A=t("Root"),D=e();for(let l=0;l<R.length;l+=1)R[l].c();x=e(),z&&z.c(),P=e(),F&&F.c(),L=w(),this.h()},l(l){q('[data-svelte="svelte-1n5cjn7"]',document.head).forEach(i),a=h(l),s=r(l,"H1",{class:!0});var n=c(s);d=o(n,"Browse"),n.forEach(i),g=h(l),E=r(l,"NAV",{class:!0,"aria-label":!0});var t=c(E);k=r(t,"UL",{class:!0});var e=c(k);y=r(e,"LI",{class:!0});var u=c(y);I=r(u,"A",{href:!0,class:!0});var f=c(I);A=o(f,"Root"),f.forEach(i),u.forEach(i),D=h(e);for(let l=0;l<R.length;l+=1)R[l].l(e);e.forEach(i),t.forEach(i),x=h(l),z&&z.l(l),P=h(l),F&&F.l(l),L=w(),this.h()},h(){document.title="Browse",u(s,"class","title"),u(I,"href",V=null),u(I,"class","svelte-g89v9p"),u(y,"class","svelte-g89v9p"),u(k,"class","svelte-g89v9p"),u(E,"class","breadcrumb svelte-g89v9p"),u(E,"aria-label","breadcrumbs")},m(n,t,e){f(n,a,t),f(n,s,t),m(s,d),f(n,g,t),f(n,E,t),m(E,k),m(k,y),m(y,I),m(I,A),m(k,D);for(let l=0;l<R.length;l+=1)R[l].m(k,null);f(n,x,t),z&&z.m(n,t),f(n,P,t),F&&F.m(n,t),f(n,L,t),N=!0,e&&j(),j=p(I,"click",l[7])},p(l,[a]){if(21&a){let s;for(O=l[0],s=0;s<O.length;s+=1){const n=_(l,O,s);R[s]?R[s].p(n,a):(R[s]=K(n),R[s].c(),R[s].m(k,null))}for(;s<R.length;s+=1)R[s].d(1);R.length=O.length}l[2]?z?(z.p(l,a),v(z,1)):((z=T(l)).c(),v(z,1),z.m(P.parentNode,P)):z&&(C(),$(z,1,1,()=>{z=null}),b()),l[1].length>0?F?(F.p(l,a),v(F,1)):((F=ll(l)).c(),v(F,1),F.m(L.parentNode,L)):F&&(C(),$(F,1,1,()=>{F=null}),b())},i(l){N||(v(z),v(F),N=!0)},o(l){$(z),$(F),N=!1},d(l){l&&i(a),l&&i(s),l&&i(g),l&&i(E),B(R,l),l&&i(x),z&&z.d(l),l&&i(P),F&&F.d(l),l&&i(L),j()}}}function ol(l,a,s){let n;L(l,Q,l=>s(6,n=l));let t,e,r=[],c=[];N(async()=>{J(Q,n=await M()),s(1,c=await n.library.browse({uri:null}))});const o=async(l,a,t)=>{["directory","artist","album"].indexOf(l.type)>-1?(s(1,c=await n.library.browse({uri:l.uri})),"back"===t?s(0,r=[l]):"avance"===t&&s(0,r=[...r,l])):"track"===l.type&&s(3,e=e==a?null:a)},i=async()=>{s(1,c=await n.library.browse({uri:null})),s(0,r=[])};return[r,c,t,e,o,i,n,()=>s(2,t=i()),(l,a)=>s(2,t=o(l,a,"back")),(l,a)=>s(2,t=o(l,a,"avance"))]}export default class extends l{constructor(l){super(),a(this,l,ol,cl,s,{})}}
