import{S as a,a as l,s,M as n,a4 as t,e as r,t as c,c as e,d as o,l as i,g as u,h as f,j as h,k as d,m,b as p,f as g,ac as $,L as v,y as w,A as k,F as E,q as b,u as y,v as A,w as I,r as D,p as V,Q as T,C as x,B as P,ad as S,I as _,a1 as N,ah as O,J as B,V as M,a5 as q,ag as U,z as j,a6 as L,a8 as R,i as C,a7 as H,av as F,G as z,o as G,O as J,ae as Q,ak as Z,_ as K,$ as W,aw as X,an as Y,ao as aa,ap as la,x as sa,D as na,E as ta,H as ra,R as ca,aq as ea,Z as oa}from"./client.c8931d90.js";import{f as ia}from"./index.1a124de9.js";function ua(a,l,s){const n=a.slice();return n[11]=l[s],n[13]=s,n}function fa(a){let l,s,n,t,p=a[1].name+"";return{c(){l=r("label"),s=c("Add "),n=c(p),t=c(" to a playlist"),this.h()},l(a){l=e(a,"LABEL",{class:!0});var r=o(l);s=i(r,"Add "),n=i(r,p),t=i(r," to a playlist"),r.forEach(u),this.h()},h(){f(l,"class","label")},m(a,r){h(a,l,r),d(l,s),d(l,n),d(l,t)},p(a,l){2&l&&p!==(p=a[1].name+"")&&m(n,p)},d(a){a&&u(l)}}}function ha(a){let l,s=a[15].message+"";return{c(){l=c(s)},l(a){l=i(a,s)},m(a,s){h(a,l,s)},p(a,n){8&n&&s!==(s=a[15].message+"")&&m(l,s)},i:j,o:j,d(a){a&&u(l)}}}function da(a){let l,s,t,$,v,E,A,D,T,x,S=(a[14].tracks?a[14].tracks.length:"0")+"";const _=new n({props:{icon:R,class:"icon"}});return{c(){l=r("div"),s=c("("),t=c(S),$=c(")"),v=p(),E=r("div"),A=r("a"),b(_.$$.fragment),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=i(n,"("),t=i(n,S),$=i(n,")"),n.forEach(u),v=g(a),E=e(a,"DIV",{class:!0});var r=o(E);A=e(r,"A",{href:!0});var c=o(A);y(_.$$.fragment,c),c.forEach(u),r.forEach(u),this.h()},h(){f(l,"class","column is-narrow"),f(A,"href",D=null),f(E,"class","column is-narrow")},m(n,r,c){h(n,l,r),d(l,s),d(l,t),d(l,$),h(n,v,r),h(n,E,r),d(E,A),I(_,A,null),T=!0,c&&x(),x=V(A,"click",function(){C(a[4](a[14]))&&a[4](a[14]).apply(this,arguments)})},p(l,s){a=l,(!T||8&s)&&S!==(S=(a[14].tracks?a[14].tracks.length:"0")+"")&&m(t,S)},i(a){T||(w(_.$$.fragment,a),T=!0)},o(a){k(_.$$.fragment,a),T=!1},d(a){a&&u(l),a&&u(v),a&&u(E),P(_),x()}}}function ma(a){let l;return{c(){l=c("loading..")},l(a){l=i(a,"loading..")},m(a,s){h(a,l,s)},p:j,i:j,o:j,d(a){a&&u(l)}}}function pa(a){let l,s,n,t,E,b,y,A,I=a[11].name+"",D={ctx:a,current:null,token:null,pending:ma,then:da,catch:ha,value:14,error:15,blocks:[,,,]};return v(b=$(a[11].uri),D),{c(){l=r("div"),s=r("div"),n=r("div"),t=c(I),E=p(),D.block.c(),y=p(),this.h()},l(a){l=e(a,"DIV",{class:!0});var r=o(l);s=e(r,"DIV",{class:!0});var c=o(s);n=e(c,"DIV",{class:!0});var f=o(n);t=i(f,I),f.forEach(u),E=g(c),D.block.l(c),c.forEach(u),y=g(r),r.forEach(u),this.h()},h(){f(n,"class","column"),f(s,"class","columns is-mobile"),f(l,"class","list-item")},m(a,r){h(a,l,r),d(l,s),d(s,n),d(n,t),d(s,E),D.block.m(s,D.anchor=null),D.mount=(()=>s),D.anchor=null,d(l,y),A=!0},p(l,s){if(a=l,(!A||8&s)&&I!==(I=a[11].name+"")&&m(t,I),D.ctx=a,8&s&&b!==(b=$(a[11].uri))&&v(b,D));else{const l=a.slice();l[14]=D.resolved,D.block.p(l,s)}},i(a){A||(w(D.block),A=!0)},o(a){for(let a=0;a<3;a+=1){const l=D.blocks[a];k(l)}A=!1},d(a){a&&u(l),D.block.d(),D.token=null,D=null}}}function ga(a){let l,s,n,t={ctx:a,current:null,token:null,pending:Ea,then:va,catch:$a,value:10,blocks:[,,,]};return v(s=a[2],t),{c(){l=E(),t.block.c()},l(a){l=E(),t.block.l(a)},m(a,s){h(a,l,s),t.block.m(a,t.anchor=s),t.mount=(()=>l.parentNode),t.anchor=l,n=!0},p(l,n){if(a=l,t.ctx=a,4&n&&s!==(s=a[2])&&v(s,t));else{const l=a.slice();l[10]=t.resolved,t.block.p(l,n)}},i(a){n||(w(t.block),n=!0)},o(a){for(let a=0;a<3;a+=1){const l=t.blocks[a];k(l)}n=!1},d(a){a&&u(l),t.block.d(a),t.token=null,t=null}}}function $a(a){return{c:j,l:j,m:j,p:j,i:j,o:j,d:j}}function va(a){let l,s,n,t;const r=[ka,wa],c=[];function e(a,l){return a[10]?0:1}return l=e(a),s=c[l]=r[l](a),{c(){s.c(),n=E()},l(a){s.l(a),n=E()},m(a,s){c[l].m(a,s),h(a,n,s),t=!0},p(a,t){let o=l;(l=e(a))===o?c[l].p(a,t):(T(),k(c[o],1,1,()=>{c[o]=null}),x(),(s=c[l])||(s=c[l]=r[l](a)).c(),w(s,1),s.m(n.parentNode,n))},i(a){t||(w(s),t=!0)},o(a){k(s),t=!1},d(a){c[l].d(a),a&&u(n)}}}function wa(a){let l;return{c(){l=c("Error")},l(a){l=i(a,"Error")},m(a,s){h(a,l,s)},p:j,i:j,o:j,d(a){a&&u(l)}}}function ka(a){let l,s,t;const c=new n({props:{icon:H,class:"icon"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null)},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:j,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){k(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Ea(a){let l,s,t,m,$,v;const E=new n({props:{icon:L,spin:!0,class:"icon"}});return{c(){l=r("a"),b(E.$$.fragment),t=p(),m=r("button"),$=c("Save changes"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(E.$$.fragment,s),s.forEach(u),t=g(a),m=e(a,"BUTTON",{class:!0});var n=o(m);$=i(n,"Save changes"),n.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null),f(m,"class","button is-success svelte-5ggs80")},m(a,s){h(a,l,s),I(E,l,null),h(a,t,s),h(a,m,s),d(m,$),v=!0},p:j,i(a){v||(w(E.$$.fragment,a),v=!0)},o(a){k(E.$$.fragment,a),v=!1},d(a){a&&u(l),P(E),a&&u(t),a&&u(m)}}}function ba(a){let l,s,m,$,v,E,_,N,O,B,M,q,U,j,L,R,C,H,F,z,G;const J=new n({props:{icon:t,class:"icon"}});let Q=a[1]&&fa(a),Z=a[3],K=[];for(let l=0;l<Z.length;l+=1)K[l]=pa(ua(a,Z,l));const W=a=>k(K[a],1,1,()=>{K[a]=null});let X=a[2]&&ga(a);return{c(){l=r("div"),s=r("div"),m=p(),$=r("div"),v=r("header"),E=r("p"),_=c("Add to playlist"),N=p(),O=r("a"),b(J.$$.fragment),M=p(),q=r("section"),Q&&Q.c(),U=p(),j=r("div");for(let a=0;a<K.length;a+=1)K[a].c();L=c("\n       "),R=p(),C=r("footer"),X&&X.c(),H=p(),F=r("button"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0}),o(s).forEach(u),m=g(n),$=e(n,"DIV",{class:!0});var t=o($);v=e(t,"HEADER",{class:!0});var r=o(v);E=e(r,"P",{class:!0});var c=o(E);_=i(c,"Add to playlist"),c.forEach(u),N=g(r),O=e(r,"A",{href:!0,"aria-label":!0});var f=o(O);y(J.$$.fragment,f),f.forEach(u),r.forEach(u),M=g(t),q=e(t,"SECTION",{class:!0});var h=o(q);Q&&Q.l(h),U=g(h),j=e(h,"DIV",{class:!0});var d=o(j);for(let a=0;a<K.length;a+=1)K[a].l(d);d.forEach(u),L=i(h,"\n       "),h.forEach(u),R=g(t),C=e(t,"FOOTER",{class:!0});var p=o(C);X&&X.l(p),p.forEach(u),t.forEach(u),H=g(n),F=e(n,"BUTTON",{class:!0,"aria-label":!0}),o(F).forEach(u),n.forEach(u),this.h()},h(){f(s,"class","modal-background svelte-5ggs80"),f(E,"class","modal-card-title svelte-5ggs80"),f(O,"href",B=null),f(O,"aria-label","close"),f(v,"class","modal-card-head svelte-5ggs80"),f(j,"class","list is-hoverable"),f(q,"class","modal-card-body svelte-5ggs80"),f(C,"class","modal-card-foot svelte-5ggs80"),f($,"class","modal-card svelte-5ggs80"),f(F,"class","modal-close is-large svelte-5ggs80"),f(F,"aria-label","close"),f(l,"class","modal svelte-5ggs80"),A(l,"is-active",a[0])},m(n,t,r){h(n,l,t),d(l,s),d(l,m),d(l,$),d($,v),d(v,E),d(E,_),d(v,N),d(v,O),I(J,O,null),d($,M),d($,q),Q&&Q.m(q,null),d(q,U),d(q,j);for(let a=0;a<K.length;a+=1)K[a].m(j,null);d(q,L),d($,R),d($,C),X&&X.m(C,null),d(l,H),d(l,F),z=!0,r&&D(G),G=[V(s,"click",a[7]),V(O,"click",a[8]),V(F,"click",a[9])]},p(a,[s]){if(a[1]?Q?Q.p(a,s):((Q=fa(a)).c(),Q.m(q,U)):Q&&(Q.d(1),Q=null),24&s){let l;for(Z=a[3],l=0;l<Z.length;l+=1){const n=ua(a,Z,l);K[l]?(K[l].p(n,s),w(K[l],1)):(K[l]=pa(n),K[l].c(),w(K[l],1),K[l].m(j,null))}for(T(),l=Z.length;l<K.length;l+=1)W(l);x()}a[2]?X?(X.p(a,s),w(X,1)):((X=ga(a)).c(),w(X,1),X.m(C,null)):X&&(T(),k(X,1,1,()=>{X=null}),x()),1&s&&A(l,"is-active",a[0])},i(a){if(!z){w(J.$$.fragment,a);for(let a=0;a<Z.length;a+=1)w(K[a]);w(X),z=!0}},o(a){k(J.$$.fragment,a),K=K.filter(Boolean);for(let a=0;a<K.length;a+=1)k(K[a]);k(X),z=!1},d(a){a&&u(l),P(J),Q&&Q.d(),S(K,a),X&&X.d(),D(G)}}}function ya(a,l,s){let n,t;_(a,N,a=>s(5,n=a)),_(a,O,a=>s(3,t=a));let r,{showAddToPlaylistModal:c}=l,{track:e}=l;B(async()=>{M(N,n=await q()),M(O,t=await U())});const o=async a=>{return a.tracks?a.tracks.push(e):a.tracks=[e],!!await n.playlists.save({playlist:a})&&(M(O,t=await U()),!0)};return a.$set=(a=>{"showAddToPlaylistModal"in a&&s(0,c=a.showAddToPlaylistModal),"track"in a&&s(1,e=a.track)}),[c,e,r,t,a=>{s(2,r=o(a))},n,o,()=>s(0,c=!c),()=>s(0,c=!c),()=>s(0,c=!c)]}class Aa extends a{constructor(a){super(),l(this,a,ya,ba,s,{showAddToPlaylistModal:0,track:1})}}function Ia(a,l,s){const n=a.slice();return n[29]=l[s],n[31]=s,n}function Da(a,l,s){const n=a.slice();return n[34]=l[s],n}function Va(a){let l;const s=new n({props:{icon:K,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){k(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Ta(a){let l;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){k(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function xa(a){let l,s,n;return{c(){l=r("a"),s=c("loading\n              "),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var n=o(l);s=i(n,"loading\n              "),n.forEach(u),this.h()},h(){f(l,"href",n=null),f(l,"class","dropdown-item")},m(a,n){h(a,l,n),d(l,s)},d(a){a&&u(l)}}}function Pa(a){let l,s,n,t,$,v,w,k,E,b=a[34]+"";return{c(){l=r("a"),s=r("label"),n=r("input"),$=p(),v=c(b),w=p(),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var t=o(l);s=e(t,"LABEL",{class:!0});var r=o(s);n=e(r,"INPUT",{value:!0,type:!0,class:!0}),$=g(r),v=i(r,b),r.forEach(u),w=g(t),t.forEach(u),this.h()},h(){n.__value=t=a[34],n.value=n.__value,f(n,"type","checkbox"),f(n,"class","svelte-ywa9aa"),a[24][0].push(n),f(s,"class","checkbox svelte-ywa9aa"),f(l,"href",k=null),f(l,"class","dropdown-item")},m(t,r,c){h(t,l,r),d(l,s),d(s,n),n.checked=~a[1].indexOf(n.__value),d(s,$),d(s,v),d(l,w),c&&E(),E=V(n,"change",a[23])},p(a,l){4&l[0]&&t!==(t=a[34])&&(n.__value=t),n.value=n.__value,2&l[0]&&(n.checked=~a[1].indexOf(n.__value)),4&l[0]&&b!==(b=a[34]+"")&&m(v,b)},d(s){s&&u(l),a[24][0].splice(a[24][0].indexOf(n),1),E()}}}function Sa(a){let l,s,t,m,$,v,E,S,_,N,O,B,M,q,U,j,L,R,C,H,F;const z=[Na,_a],G=[];function K(a,l){return a[5]?0:1}m=K(a),$=G[m]=z[m](a);const W=new n({props:{icon:J,class:"icon is-small"}}),X=new n({props:{icon:Q,class:"icon is-small"}}),Y=new n({props:{icon:Z,class:"icon is-small"}});return{c(){l=r("div"),s=r("div"),t=r("div"),$.c(),v=p(),E=r("div"),S=r("div"),_=r("a"),b(W.$$.fragment),N=c(" \n                  Play All"),B=p(),M=r("a"),b(X.$$.fragment),q=c(" \n                  Shuffle & Play All"),j=p(),L=r("a"),b(Y.$$.fragment),R=c(" \n                  Add to queue"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0});var r=o(s);t=e(r,"DIV",{class:!0});var c=o(t);$.l(c),c.forEach(u),v=g(r),E=e(r,"DIV",{class:!0,id:!0,role:!0});var f=o(E);S=e(f,"DIV",{class:!0});var h=o(S);_=e(h,"A",{href:!0,class:!0});var d=o(_);y(W.$$.fragment,d),N=i(d," \n                  Play All"),d.forEach(u),B=g(h),M=e(h,"A",{href:!0,class:!0});var m=o(M);y(X.$$.fragment,m),q=i(m," \n                  Shuffle & Play All"),m.forEach(u),j=g(h),L=e(h,"A",{href:!0,class:!0});var p=o(L);y(Y.$$.fragment,p),R=i(p," \n                  Add to queue"),p.forEach(u),h.forEach(u),f.forEach(u),r.forEach(u),n.forEach(u),this.h()},h(){f(t,"class","dropdown-trigger"),f(_,"href",O=null),f(_,"class","dropdown-item"),f(M,"href",U=null),f(M,"class","dropdown-item"),f(L,"href",C=null),f(L,"class","dropdown-item"),f(S,"class","dropdown-content"),f(E,"class","dropdown-menu"),f(E,"id","dropdown-menu"),f(E,"role","menu"),f(s,"class","dropdown is-right"),A(s,"is-active",a[5]),f(l,"class","column")},m(n,r,c){h(n,l,r),d(l,s),d(s,t),G[m].m(t,null),d(s,v),d(s,E),d(E,S),d(S,_),I(W,_,null),d(_,N),d(S,B),d(S,M),I(X,M,null),d(M,q),d(S,j),d(S,L),I(Y,L,null),d(L,R),H=!0,c&&D(F),F=[V(t,"click",a[25]),V(_,"click",a[14]),V(M,"click",a[15]),V(L,"click",a[16])]},p(a,l){let n=m;(m=K(a))===n?G[m].p(a,l):(T(),k(G[n],1,1,()=>{G[n]=null}),x(),($=G[m])||($=G[m]=z[m](a)).c(),w($,1),$.m(t,null)),32&l[0]&&A(s,"is-active",a[5])},i(a){H||(w($),w(W.$$.fragment,a),w(X.$$.fragment,a),w(Y.$$.fragment,a),H=!0)},o(a){k($),k(W.$$.fragment,a),k(X.$$.fragment,a),k(Y.$$.fragment,a),H=!1},d(a){a&&u(l),G[m].d(),P(W),P(X),P(Y),D(F)}}}function _a(a){let l,s,t;const c=new n({props:{icon:K,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:j,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){k(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Na(a){let l,s,t;const c=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:j,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){k(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Oa(a){let l,s,n={ctx:a,current:null,token:null,pending:Ua,then:qa,catch:Ma,value:32,error:33};return v(s=a[3],n),{c(){l=E(),n.block.c()},l(a){l=E(),n.block.l(a)},m(a,s){h(a,l,s),n.block.m(a,n.anchor=s),n.mount=(()=>l.parentNode),n.anchor=l},p(l,t){if(a=l,n.ctx=a,8&t[0]&&s!==(s=a[3])&&v(s,n));else{const l=a.slice();l[32]=n.resolved,n.block.p(l,t)}},i:j,o:j,d(a){a&&u(l),n.block.d(a),n.token=null,n=null}}}function Ba(a){let l,s,n=[],t=new Map,c=a[8];const i=a=>a[31];for(let l=0;l<c.length;l+=1){let s=Ia(a,c,l),r=i(s);t.set(r,n[l]=Ha(r,s))}return{c(){l=r("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){l=e(a,"DIV",{class:!0});var s=o(l);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(u),this.h()},h(){f(l,"class","list is-hoverable")},m(a,t){h(a,l,t);for(let a=0;a<n.length;a+=1)n[a].m(l,null);s=!0},p(a,s){if(402304&s[0]){const r=a[8];T();for(let a=0;a<n.length;a+=1)n[a].r();n=ra(n,s,i,1,a,r,t,l,ca,Ha,null,Ia);for(let a=0;a<n.length;a+=1)n[a].a();x()}},i(a){if(!s){for(let a=0;a<c.length;a+=1)w(n[a]);s=!0}},o(a){for(let a=0;a<n.length;a+=1)k(n[a]);s=!1},d(a){a&&u(l);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Ma(a){let l,s,n=a[33].message+"";return{c(){l=r("p"),s=c(n),this.h()},l(a){l=e(a,"P",{class:!0,style:!0});var t=o(l);s=i(t,n),t.forEach(u),this.h()},h(){f(l,"class","list-item"),oa(l,"color","red")},m(a,n){h(a,l,n),d(l,s)},p(a,l){8&l[0]&&n!==(n=a[33].message+"")&&m(s,n)},d(a){a&&u(l)}}}function qa(a){let l,s,n;return{c(){l=r("a"),s=c("no tracks found"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var n=o(l);s=i(n,"no tracks found"),n.forEach(u),this.h()},h(){f(l,"class","list-item"),f(l,"href",n=null)},m(a,n){h(a,l,n),d(l,s)},p:j,d(a){a&&u(l)}}}function Ua(a){let l,s;return{c(){l=r("p"),s=c("loading ..."),this.h()},l(a){l=e(a,"P",{class:!0});var n=o(l);s=i(n,"loading ..."),n.forEach(u),this.h()},h(){f(l,"class","list-item")},m(a,n){h(a,l,n),d(l,s)},p:j,d(a){a&&u(l)}}}function ja(a){let l;return{c(){l=c("unknown artist")},l(a){l=i(a,"unknown artist")},m(a,s){h(a,l,s)},p:j,d(a){a&&u(l)}}}function La(a){let l,s,n,t=a[29].artists.map(za).join(", ")+"",r=a[29].name+"";return{c(){l=c(t),s=c(" - "),n=c(r)},l(a){l=i(a,t),s=i(a," - "),n=i(a,r)},m(a,t){h(a,l,t),h(a,s,t),h(a,n,t)},p(a,s){256&s[0]&&t!==(t=a[29].artists.map(za).join(", ")+"")&&m(l,t),256&s[0]&&r!==(r=a[29].name+"")&&m(n,r)},d(a){a&&u(l),a&&u(s),a&&u(n)}}}function Ra(a){let l;const s=new n({props:{icon:K,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){k(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Ca(a){let l;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){k(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Ha(a,l){let s,t,m,$,v,E,S,_,N,O,B,M,q,U,L,H,F,z,G,Q,K,W,X,ra,ca,oa,ua,fa,ha,da,ma,pa,ga,$a=j;function va(a,l){return a[29].artists?La:ja}let wa=va(l),ka=wa(l);const Ea=[Ca,Ra],ba=[];function ya(a,l){return a[7]==a[31]+1?0:1}_=ya(l),N=ba[_]=Ea[_](l);const Aa=new n({props:{icon:J,class:"icon is-small"}}),Ia=new n({props:{icon:ea,class:"icon is-small"}}),Da=new n({props:{icon:Z,class:"icon is-small"}}),Va=new n({props:{icon:R,class:"icon is-small"}});function Ta(...a){return l[26](l[31],...a)}function xa(...a){return l[27](l[31],...a)}function Pa(...a){return l[28](l[31],...a)}return{key:a,first:null,c(){s=r("a"),t=r("div"),m=r("div"),ka.c(),$=p(),v=r("div"),E=r("div"),S=r("div"),N.c(),O=p(),B=r("div"),M=r("div"),q=r("a"),b(Aa.$$.fragment),U=c(" \n                      Play now"),H=p(),F=r("a"),b(Ia.$$.fragment),z=c(" \n                      Play next"),Q=p(),K=r("a"),b(Da.$$.fragment),W=c(" \n                      Add to queue"),ra=p(),ca=r("a"),b(Va.$$.fragment),oa=c(" \n                      Add to a playlist"),fa=p(),this.h()},l(a){s=e(a,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var l=o(s);t=e(l,"DIV",{class:!0});var n=o(t);m=e(n,"DIV",{class:!0});var r=o(m);ka.l(r),r.forEach(u),$=g(n),v=e(n,"DIV",{class:!0});var c=o(v);E=e(c,"DIV",{class:!0});var f=o(E);S=e(f,"DIV",{class:!0});var h=o(S);N.l(h),h.forEach(u),O=g(f),B=e(f,"DIV",{class:!0,id:!0,role:!0});var d=o(B);M=e(d,"DIV",{class:!0});var p=o(M);q=e(p,"A",{href:!0,class:!0});var w=o(q);y(Aa.$$.fragment,w),U=i(w," \n                      Play now"),w.forEach(u),H=g(p),F=e(p,"A",{href:!0,class:!0});var k=o(F);y(Ia.$$.fragment,k),z=i(k," \n                      Play next"),k.forEach(u),Q=g(p),K=e(p,"A",{href:!0,class:!0});var b=o(K);y(Da.$$.fragment,b),W=i(b," \n                      Add to queue"),b.forEach(u),ra=g(p),ca=e(p,"A",{href:!0,class:!0});var A=o(ca);y(Va.$$.fragment,A),oa=i(A," \n                      Add to a playlist"),A.forEach(u),p.forEach(u),d.forEach(u),f.forEach(u),c.forEach(u),n.forEach(u),fa=g(l),l.forEach(u),this.h()},h(){f(m,"class","column"),f(S,"class","dropdown-trigger"),f(q,"href",L=null),f(q,"class","dropdown-item"),f(F,"href",G=null),f(F,"class","dropdown-item"),f(K,"href",X=null),f(K,"class","dropdown-item"),f(ca,"href",ua=null),f(ca,"class","dropdown-item"),f(M,"class","dropdown-content"),f(B,"class","dropdown-menu"),f(B,"id","dropdown-menu"),f(B,"role","menu"),f(E,"class","dropdown is-right is-up"),A(E,"is-active",l[7]==l[31]+1),f(v,"class","column is-narrow"),f(t,"class","columns is-mobile"),f(s,"class","list-item"),f(s,"href",ha=null),f(s,"draggable",da=!0),f(s,"ondragover","return false"),A(s,"is-active",l[9]===l[31]),this.first=s},m(a,n,r){h(a,s,n),d(s,t),d(t,m),ka.m(m,null),d(t,$),d(t,v),d(v,E),d(E,S),ba[_].m(S,null),d(E,O),d(E,B),d(B,M),d(M,q),I(Aa,q,null),d(q,U),d(M,H),d(M,F),I(Ia,F,null),d(F,z),d(M,Q),d(M,K),I(Da,K,null),d(K,W),d(M,ra),d(M,ca),I(Va,ca,null),d(ca,oa),d(s,fa),pa=!0,r&&D(ga),ga=[V(m,"click",function(){C(l[17](l[31]+1))&&l[17](l[31]+1).apply(this,arguments)}),V(q,"click",function(){C(Y(l[29].uri))&&Y(l[29].uri).apply(this,arguments)}),V(F,"click",function(){C(aa(l[29].uri))&&aa(l[29].uri).apply(this,arguments)}),V(K,"click",function(){C(la(l[29].uri))&&la(l[29].uri).apply(this,arguments)}),V(ca,"click",function(){C(l[13](l[29]))&&l[13](l[29]).apply(this,arguments)}),V(s,"dragstart",Ta),V(s,"drop",sa(xa)),V(s,"dragenter",Pa)]},p(a,n){wa===(wa=va(l=a))&&ka?ka.p(l,n):(ka.d(1),(ka=wa(l))&&(ka.c(),ka.m(m,null)));let t=_;(_=ya(l))===t?ba[_].p(l,n):(T(),k(ba[t],1,1,()=>{ba[t]=null}),x(),(N=ba[_])||(N=ba[_]=Ea[_](l)).c(),w(N,1),N.m(S,null)),384&n[0]&&A(E,"is-active",l[7]==l[31]+1),768&n[0]&&A(s,"is-active",l[9]===l[31])},r(){ma=s.getBoundingClientRect()},f(){na(s),$a()},a(){$a(),$a=ta(s,ma,ia,{duration:300})},i(a){pa||(w(N),w(Aa.$$.fragment,a),w(Ia.$$.fragment,a),w(Da.$$.fragment,a),w(Va.$$.fragment,a),pa=!0)},o(a){k(N),k(Aa.$$.fragment,a),k(Ia.$$.fragment,a),k(Da.$$.fragment,a),k(Va.$$.fragment,a),pa=!1},d(a){a&&u(s),ka.d(),ba[_].d(),P(Aa),P(Ia),P(Da),P(Va),D(ga)}}}function Fa(a){let l,s,t,m,$,v,_,N,O,B,M,q,U,j,L,R,C,H,J,Q,Z,K,W,X,Y,aa,la,sa,na,ta,ra,ca,ea;const oa=[Ta,Va],ia=[];function ua(a,l){return a[0]?0:1}H=ua(a),J=ia[H]=oa[H](a);let fa=a[2],ha=[];for(let l=0;l<fa.length;l+=1)ha[l]=Pa(Da(a,fa,l));let da=null;fa.length||(da=xa());const ma=new n({props:{icon:F,class:"icon"}});let pa=a[8].length>0&&Sa(a);const ga=new Aa({props:{showAddToPlaylistModal:a[4],track:a[6]}}),$a=[Ba,Oa],va=[];function wa(a,l){return a[8].length>0?0:a[3]?1:-1}return~(na=wa(a))&&(ta=va[na]=$a[na](a)),{c(){l=p(),s=r("h1"),t=c("Search"),m=p(),$=r("div"),v=r("div"),_=r("input"),N=p(),O=r("div"),B=r("div"),M=r("div"),q=r("div"),U=r("div"),j=r("button"),L=r("span"),R=c("Sources"),C=p(),J.c(),Q=p(),Z=r("div"),K=r("div");for(let a=0;a<ha.length;a+=1)ha[a].c();da&&da.c(),W=p(),X=r("div"),Y=r("button"),b(ma.$$.fragment),aa=p(),pa&&pa.c(),la=p(),b(ga.$$.fragment),sa=p(),ta&&ta.c(),ra=E(),this.h()},l(a){z('[data-svelte="svelte-3s7lyl"]',document.head).forEach(u),l=g(a),s=e(a,"H1",{class:!0});var n=o(s);t=i(n,"Search"),n.forEach(u),m=g(a),$=e(a,"DIV",{class:!0});var r=o($);v=e(r,"DIV",{class:!0});var c=o(v);_=e(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(u),N=g(r),O=e(r,"DIV",{class:!0});var f=o(O);B=e(f,"DIV",{class:!0});var h=o(B);M=e(h,"DIV",{class:!0});var d=o(M);q=e(d,"DIV",{class:!0});var p=o(q);U=e(p,"DIV",{class:!0});var w=o(U);j=e(w,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var k=o(j);L=e(k,"SPAN",{});var b=o(L);R=i(b,"Sources"),b.forEach(u),C=g(k),J.l(k),k.forEach(u),w.forEach(u),Q=g(p),Z=e(p,"DIV",{class:!0,id:!0,role:!0});var A=o(Z);K=e(A,"DIV",{class:!0});var I=o(K);for(let a=0;a<ha.length;a+=1)ha[a].l(I);da&&da.l(I),I.forEach(u),A.forEach(u),p.forEach(u),d.forEach(u),W=g(h),X=e(h,"DIV",{class:!0});var D=o(X);Y=e(D,"BUTTON",{class:!0});var V=o(Y);y(ma.$$.fragment,V),V.forEach(u),D.forEach(u),aa=g(h),pa&&pa.l(h),h.forEach(u),f.forEach(u),r.forEach(u),la=g(a),y(ga.$$.fragment,a),sa=g(a),ta&&ta.l(a),ra=E(),this.h()},h(){document.title="Search",f(s,"class","title"),f(_,"class","input is-rounded svelte-ywa9aa"),f(_,"type","text"),f(_,"placeholder","Search for music"),f(v,"class","column"),f(j,"class","button is-link"),f(j,"aria-haspopup","true"),f(j,"aria-controls","dropdown-menu-sources"),f(U,"class","dropdown-trigger"),f(K,"class","dropdown-content"),f(Z,"class","dropdown-menu"),f(Z,"id","dropdown-menu-sources"),f(Z,"role","menu"),f(q,"class","dropdown"),A(q,"is-active",a[0]),f(M,"class","column"),f(Y,"class","button"),f(X,"class","column"),f(B,"class","columns is-mobile"),f(O,"class","column is-narrow"),f($,"class","columns")},m(n,r,c){h(n,l,r),h(n,s,r),d(s,t),h(n,m,r),h(n,$,r),d($,v),d(v,_),G(_,a[10]),d($,N),d($,O),d(O,B),d(B,M),d(M,q),d(q,U),d(U,j),d(j,L),d(L,R),d(j,C),ia[H].m(j,null),d(q,Q),d(q,Z),d(Z,K);for(let a=0;a<ha.length;a+=1)ha[a].m(K,null);da&&da.m(K,null),d(B,W),d(B,X),d(X,Y),I(ma,Y,null),d(B,aa),pa&&pa.m(B,null),h(n,la,r),I(ga,n,r),h(n,sa,r),~na&&va[na].m(n,r),h(n,ra,r),ca=!0,c&&D(ea),ea=[V(_,"keydown",a[12]),V(_,"input",a[21]),V(U,"click",a[22]),V(Y,"click",a[11])]},p(a,l){1024&l[0]&&_.value!==a[10]&&G(_,a[10]);let s=H;if((H=ua(a))===s?ia[H].p(a,l):(T(),k(ia[s],1,1,()=>{ia[s]=null}),x(),(J=ia[H])||(J=ia[H]=oa[H](a)).c(),w(J,1),J.m(j,null)),6&l[0]){let s;for(fa=a[2],s=0;s<fa.length;s+=1){const n=Da(a,fa,s);ha[s]?ha[s].p(n,l):(ha[s]=Pa(n),ha[s].c(),ha[s].m(K,null))}for(;s<ha.length;s+=1)ha[s].d(1);ha.length=fa.length,fa.length?da&&(da.d(1),da=null):da||((da=xa()).c(),da.m(K,null))}1&l[0]&&A(q,"is-active",a[0]),a[8].length>0?pa?(pa.p(a,l),w(pa,1)):((pa=Sa(a)).c(),w(pa,1),pa.m(B,null)):pa&&(T(),k(pa,1,1,()=>{pa=null}),x());const n={};16&l[0]&&(n.showAddToPlaylistModal=a[4]),64&l[0]&&(n.track=a[6]),ga.$set(n);let t=na;(na=wa(a))===t?~na&&va[na].p(a,l):(ta&&(T(),k(va[t],1,1,()=>{va[t]=null}),x()),~na?((ta=va[na])||(ta=va[na]=$a[na](a)).c(),w(ta,1),ta.m(ra.parentNode,ra)):ta=null)},i(a){ca||(w(J),w(ma.$$.fragment,a),w(pa),w(ga.$$.fragment,a),w(ta),ca=!0)},o(a){k(J),k(ma.$$.fragment,a),k(pa),k(ga.$$.fragment,a),k(ta),ca=!1},d(a){a&&u(l),a&&u(s),a&&u(m),a&&u($),ia[H].d(),S(ha,a),da&&da.d(),P(ma),pa&&pa.d(),a&&u(la),P(ga,a),a&&u(sa),~na&&va[na].d(a),a&&u(ra),D(ea)}}}const za=a=>a.name;function Ga(a,l,s){let n;_(a,N,a=>s(19,n=a));let t,r,c,e=!1,o=["local"],i=["http","https","mms","rtmp","rtmps","rtsp","file"],u=[],f=!1,h=!1,d=[],m=!1,p="";async function g(){s(8,d=[]);const a=o.map(a=>a+":"),l=await n.library.search({query:{any:[p]},uris:[`${a}`]});if(l&&l.length>0){let{tracks:a}=l.pop();return a&&s(8,d=a),!0}}B(async()=>{M(N,n=await q());const a=await n.getUriSchemes();a&&s(2,u=a.filter(a=>-1===i.indexOf(a)))});function $(a,l){a.dataTransfer.dropEffect="move";parseInt(a.dataTransfer.getData("text/plain"));s(9,m=null)}const v=[[]];return[e,o,u,t,f,h,r,c,d,m,p,g,function(a){13===a.which&&s(3,t=g())},a=>{s(6,r=a),s(4,f=!f)},()=>{n.tracklist.clear(),n.tracklist.add([d]),n.playback.play(),s(5,h=!h)},()=>{n.tracklist.clear(),n.tracklist.add([d]),n.tracklist.shuffle(),n.playback.play(),s(5,h=!h)},()=>{n.tracklist.add([d]),s(5,h=!h)},a=>{s(7,c=c===a?null:a)},$,n,i,function(){p=this.value,s(10,p)},()=>s(0,e=!e),function(){o=X(v[0]),s(1,o)},v,()=>s(5,h=!h),(a,l)=>(function(a,l){a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move";const s=l;a.dataTransfer.setData("text/plain",s)})(l,a),(a,l)=>$(l),a=>s(9,m=a)]}export default class extends a{constructor(a){super(),l(this,a,Ga,Fa,s,{},[-1,-1])}}
