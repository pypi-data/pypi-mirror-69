import{S as a,b as l,s,Q as n,a5 as t,e as r,t as c,f as e,g as o,n as i,j as u,k as f,l as h,m as d,o as m,d as p,h as g,ad as $,P as v,C as w,D as E,I as k,w as b,x as y,y as A,z as D,r as I,q as V,V as T,F as x,E as P,ae as S,L as _,a3 as N,ai as O,M as B,Y as M,a6 as U,ah as q,O as j,a7 as L,a9 as C,i as F,a8 as H,aD as R,J as G,p as z,T as J,af as K,al as Q,$ as W,a0 as Y,ao as X,ap as Z,aE as aa,aF as la,aG as sa,B as na,G as ta,H as ra,K as ca,W as ea,ar as oa,_ as ia}from"./client.0ef709ed.js";import{f as ua}from"./index.f67b0c7d.js";function fa(a,l,s){const n=a.slice();return n[11]=l[s],n[13]=s,n}function ha(a){let l,s,n,t,p=a[1].name+"";return{c(){l=r("label"),s=c("Add "),n=c(p),t=c(" to a playlist"),this.h()},l(a){l=e(a,"LABEL",{class:!0});var r=o(l);s=i(r,"Add "),n=i(r,p),t=i(r," to a playlist"),r.forEach(u),this.h()},h(){f(l,"class","label")},m(a,r){h(a,l,r),d(l,s),d(l,n),d(l,t)},p(a,l){2&l&&p!==(p=a[1].name+"")&&m(n,p)},d(a){a&&u(l)}}}function da(a){let l,s=a[15].message+"";return{c(){l=c(s)},l(a){l=i(a,s)},m(a,s){h(a,l,s)},p(a,n){8&n&&s!==(s=a[15].message+"")&&m(l,s)},i:j,o:j,d(a){a&&u(l)}}}function ma(a){let l,s,t,$,v,k,A,I,T,x,S=(a[14].tracks?a[14].tracks.length:"0")+"";const _=new n({props:{icon:C,class:"icon"}});return{c(){l=r("div"),s=c("("),t=c(S),$=c(")"),v=p(),k=r("div"),A=r("a"),b(_.$$.fragment),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=i(n,"("),t=i(n,S),$=i(n,")"),n.forEach(u),v=g(a),k=e(a,"DIV",{class:!0});var r=o(k);A=e(r,"A",{href:!0});var c=o(A);y(_.$$.fragment,c),c.forEach(u),r.forEach(u),this.h()},h(){f(l,"class","column is-narrow"),f(A,"href",I=null),f(k,"class","column is-narrow")},m(n,r,c){h(n,l,r),d(l,s),d(l,t),d(l,$),h(n,v,r),h(n,k,r),d(k,A),D(_,A,null),T=!0,c&&x(),x=V(A,"click",function(){F(a[4](a[14]))&&a[4](a[14]).apply(this,arguments)})},p(l,s){a=l,(!T||8&s)&&S!==(S=(a[14].tracks?a[14].tracks.length:"0")+"")&&m(t,S)},i(a){T||(w(_.$$.fragment,a),T=!0)},o(a){E(_.$$.fragment,a),T=!1},d(a){a&&u(l),a&&u(v),a&&u(k),P(_),x()}}}function pa(a){let l;return{c(){l=c("loading..")},l(a){l=i(a,"loading..")},m(a,s){h(a,l,s)},p:j,i:j,o:j,d(a){a&&u(l)}}}function ga(a){let l,s,n,t,k,b,y,A,D=a[11].name+"",I={ctx:a,current:null,token:null,pending:pa,then:ma,catch:da,value:14,error:15,blocks:[,,,]};return v(b=$(a[11].uri),I),{c(){l=r("div"),s=r("div"),n=r("div"),t=c(D),k=p(),I.block.c(),y=p(),this.h()},l(a){l=e(a,"DIV",{class:!0});var r=o(l);s=e(r,"DIV",{class:!0});var c=o(s);n=e(c,"DIV",{class:!0});var f=o(n);t=i(f,D),f.forEach(u),k=g(c),I.block.l(c),c.forEach(u),y=g(r),r.forEach(u),this.h()},h(){f(n,"class","column"),f(s,"class","columns is-mobile"),f(l,"class","list-item")},m(a,r){h(a,l,r),d(l,s),d(s,n),d(n,t),d(s,k),I.block.m(s,I.anchor=null),I.mount=(()=>s),I.anchor=null,d(l,y),A=!0},p(l,s){if(a=l,(!A||8&s)&&D!==(D=a[11].name+"")&&m(t,D),I.ctx=a,8&s&&b!==(b=$(a[11].uri))&&v(b,I));else{const l=a.slice();l[14]=I.resolved,I.block.p(l,s)}},i(a){A||(w(I.block),A=!0)},o(a){for(let a=0;a<3;a+=1){const l=I.blocks[a];E(l)}A=!1},d(a){a&&u(l),I.block.d(),I.token=null,I=null}}}function $a(a){let l,s,n,t={ctx:a,current:null,token:null,pending:ba,then:wa,catch:va,value:10,blocks:[,,,]};return v(s=a[2],t),{c(){l=k(),t.block.c()},l(a){l=k(),t.block.l(a)},m(a,s){h(a,l,s),t.block.m(a,t.anchor=s),t.mount=(()=>l.parentNode),t.anchor=l,n=!0},p(l,n){if(a=l,t.ctx=a,4&n&&s!==(s=a[2])&&v(s,t));else{const l=a.slice();l[10]=t.resolved,t.block.p(l,n)}},i(a){n||(w(t.block),n=!0)},o(a){for(let a=0;a<3;a+=1){const l=t.blocks[a];E(l)}n=!1},d(a){a&&u(l),t.block.d(a),t.token=null,t=null}}}function va(a){return{c:j,l:j,m:j,p:j,i:j,o:j,d:j}}function wa(a){let l,s,n,t;const r=[ka,Ea],c=[];function e(a,l){return a[10]?0:1}return l=e(a),s=c[l]=r[l](a),{c(){s.c(),n=k()},l(a){s.l(a),n=k()},m(a,s){c[l].m(a,s),h(a,n,s),t=!0},p(a,t){let o=l;(l=e(a))===o?c[l].p(a,t):(T(),E(c[o],1,1,()=>{c[o]=null}),x(),(s=c[l])||(s=c[l]=r[l](a)).c(),w(s,1),s.m(n.parentNode,n))},i(a){t||(w(s),t=!0)},o(a){E(s),t=!1},d(a){c[l].d(a),a&&u(n)}}}function Ea(a){let l;return{c(){l=c("Error")},l(a){l=i(a,"Error")},m(a,s){h(a,l,s)},p:j,i:j,o:j,d(a){a&&u(l)}}}function ka(a){let l,s,t;const c=new n({props:{icon:H,class:"icon"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null)},m(a,s){h(a,l,s),D(c,l,null),t=!0},p:j,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function ba(a){let l,s,t,m,$,v;const k=new n({props:{icon:L,spin:!0,class:"icon"}});return{c(){l=r("a"),b(k.$$.fragment),t=p(),m=r("button"),$=c("Save changes"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(k.$$.fragment,s),s.forEach(u),t=g(a),m=e(a,"BUTTON",{class:!0});var n=o(m);$=i(n,"Save changes"),n.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null),f(m,"class","button is-success svelte-5ggs80")},m(a,s){h(a,l,s),D(k,l,null),h(a,t,s),h(a,m,s),d(m,$),v=!0},p:j,i(a){v||(w(k.$$.fragment,a),v=!0)},o(a){E(k.$$.fragment,a),v=!1},d(a){a&&u(l),P(k),a&&u(t),a&&u(m)}}}function ya(a){let l,s,m,$,v,k,_,N,O,B,M,U,q,j,L,C,F,H,R,G,z;const J=new n({props:{icon:t,class:"icon"}});let K=a[1]&&ha(a),Q=a[3],W=[];for(let l=0;l<Q.length;l+=1)W[l]=ga(fa(a,Q,l));const Y=a=>E(W[a],1,1,()=>{W[a]=null});let X=a[2]&&$a(a);return{c(){l=r("div"),s=r("div"),m=p(),$=r("div"),v=r("header"),k=r("p"),_=c("Add to playlist"),N=p(),O=r("a"),b(J.$$.fragment),M=p(),U=r("section"),K&&K.c(),q=p(),j=r("div");for(let a=0;a<W.length;a+=1)W[a].c();L=c("\n       "),C=p(),F=r("footer"),X&&X.c(),H=p(),R=r("button"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0}),o(s).forEach(u),m=g(n),$=e(n,"DIV",{class:!0});var t=o($);v=e(t,"HEADER",{class:!0});var r=o(v);k=e(r,"P",{class:!0});var c=o(k);_=i(c,"Add to playlist"),c.forEach(u),N=g(r),O=e(r,"A",{href:!0,"aria-label":!0});var f=o(O);y(J.$$.fragment,f),f.forEach(u),r.forEach(u),M=g(t),U=e(t,"SECTION",{class:!0});var h=o(U);K&&K.l(h),q=g(h),j=e(h,"DIV",{class:!0});var d=o(j);for(let a=0;a<W.length;a+=1)W[a].l(d);d.forEach(u),L=i(h,"\n       "),h.forEach(u),C=g(t),F=e(t,"FOOTER",{class:!0});var p=o(F);X&&X.l(p),p.forEach(u),t.forEach(u),H=g(n),R=e(n,"BUTTON",{class:!0,"aria-label":!0}),o(R).forEach(u),n.forEach(u),this.h()},h(){f(s,"class","modal-background svelte-5ggs80"),f(k,"class","modal-card-title svelte-5ggs80"),f(O,"href",B=null),f(O,"aria-label","close"),f(v,"class","modal-card-head svelte-5ggs80"),f(j,"class","list is-hoverable"),f(U,"class","modal-card-body svelte-5ggs80"),f(F,"class","modal-card-foot svelte-5ggs80"),f($,"class","modal-card svelte-5ggs80"),f(R,"class","modal-close is-large svelte-5ggs80"),f(R,"aria-label","close"),f(l,"class","modal svelte-5ggs80"),A(l,"is-active",a[0])},m(n,t,r){h(n,l,t),d(l,s),d(l,m),d(l,$),d($,v),d(v,k),d(k,_),d(v,N),d(v,O),D(J,O,null),d($,M),d($,U),K&&K.m(U,null),d(U,q),d(U,j);for(let a=0;a<W.length;a+=1)W[a].m(j,null);d(U,L),d($,C),d($,F),X&&X.m(F,null),d(l,H),d(l,R),G=!0,r&&I(z),z=[V(s,"click",a[7]),V(O,"click",a[8]),V(R,"click",a[9])]},p(a,[s]){if(a[1]?K?K.p(a,s):((K=ha(a)).c(),K.m(U,q)):K&&(K.d(1),K=null),24&s){let l;for(Q=a[3],l=0;l<Q.length;l+=1){const n=fa(a,Q,l);W[l]?(W[l].p(n,s),w(W[l],1)):(W[l]=ga(n),W[l].c(),w(W[l],1),W[l].m(j,null))}for(T(),l=Q.length;l<W.length;l+=1)Y(l);x()}a[2]?X?(X.p(a,s),w(X,1)):((X=$a(a)).c(),w(X,1),X.m(F,null)):X&&(T(),E(X,1,1,()=>{X=null}),x()),1&s&&A(l,"is-active",a[0])},i(a){if(!G){w(J.$$.fragment,a);for(let a=0;a<Q.length;a+=1)w(W[a]);w(X),G=!0}},o(a){E(J.$$.fragment,a),W=W.filter(Boolean);for(let a=0;a<W.length;a+=1)E(W[a]);E(X),G=!1},d(a){a&&u(l),P(J),K&&K.d(),S(W,a),X&&X.d(),I(z)}}}function Aa(a,l,s){let n,t;_(a,N,a=>s(5,n=a)),_(a,O,a=>s(3,t=a));let r,{showAddToPlaylistModal:c}=l,{track:e}=l;B(async()=>{M(N,n=await U()),M(O,t=await q())});const o=async a=>{return a.tracks?a.tracks.push(e):a.tracks=[e],!!await n.playlists.save({playlist:a})&&(M(O,t=await q()),!0)};return a.$set=(a=>{"showAddToPlaylistModal"in a&&s(0,c=a.showAddToPlaylistModal),"track"in a&&s(1,e=a.track)}),[c,e,r,t,a=>{s(2,r=o(a))},n,o,()=>s(0,c=!c),()=>s(0,c=!c),()=>s(0,c=!c)]}class Da extends a{constructor(a){super(),l(this,a,Aa,ya,s,{showAddToPlaylistModal:0,track:1})}}function Ia(a,l,s){const n=a.slice();return n[31]=l[s],n[33]=s,n}function Va(a,l,s){const n=a.slice();return n[36]=l[s],n}function Ta(a){let l;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){D(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function xa(a){let l;const s=new n({props:{icon:Y,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){D(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Pa(a){let l,s,n;return{c(){l=r("a"),s=c("loading\n              "),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var n=o(l);s=i(n,"loading\n              "),n.forEach(u),this.h()},h(){f(l,"href",n=null),f(l,"class","dropdown-item")},m(a,n){h(a,l,n),d(l,s)},d(a){a&&u(l)}}}function Sa(a){let l,s,n,t,$,v,w,E,k,b=a[36]+"";return{c(){l=r("a"),s=r("label"),n=r("input"),$=p(),v=c(b),w=p(),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var t=o(l);s=e(t,"LABEL",{class:!0});var r=o(s);n=e(r,"INPUT",{value:!0,type:!0,class:!0}),$=g(r),v=i(r,b),r.forEach(u),w=g(t),t.forEach(u),this.h()},h(){n.__value=t=a[36],n.value=n.__value,f(n,"type","checkbox"),f(n,"class","svelte-ywa9aa"),a[26][0].push(n),f(s,"class","checkbox svelte-ywa9aa"),f(l,"href",E=null),f(l,"class","dropdown-item")},m(t,r,c){h(t,l,r),d(l,s),d(s,n),n.checked=~a[1].indexOf(n.__value),d(s,$),d(s,v),d(l,w),c&&k(),k=V(n,"change",a[25])},p(a,l){4&l[0]&&t!==(t=a[36])&&(n.__value=t),n.value=n.__value,2&l[0]&&(n.checked=~a[1].indexOf(n.__value)),4&l[0]&&b!==(b=a[36]+"")&&m(v,b)},d(s){s&&u(l),a[26][0].splice(a[26][0].indexOf(n),1),k()}}}function _a(a){let l,s,t,m,$,v,k,S,_,N,O,B,M,U,q,j,L,C,H,R,G;const z=[Oa,Na],W=[];function Y(a,l){return a[5]?0:1}m=Y(a),$=W[m]=z[m](a);const X=new n({props:{icon:J,class:"icon is-small"}}),Z=new n({props:{icon:K,class:"icon is-small"}}),aa=new n({props:{icon:Q,class:"icon is-small"}});return{c(){l=r("div"),s=r("div"),t=r("div"),$.c(),v=p(),k=r("div"),S=r("div"),_=r("a"),b(X.$$.fragment),N=c(" \n                  Play All"),B=p(),M=r("a"),b(Z.$$.fragment),U=c(" \n                  Shuffle & Play All"),j=p(),L=r("a"),b(aa.$$.fragment),C=c(" \n                  Add to queue"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0});var r=o(s);t=e(r,"DIV",{class:!0});var c=o(t);$.l(c),c.forEach(u),v=g(r),k=e(r,"DIV",{class:!0,id:!0,role:!0});var f=o(k);S=e(f,"DIV",{class:!0});var h=o(S);_=e(h,"A",{href:!0,class:!0});var d=o(_);y(X.$$.fragment,d),N=i(d," \n                  Play All"),d.forEach(u),B=g(h),M=e(h,"A",{href:!0,class:!0});var m=o(M);y(Z.$$.fragment,m),U=i(m," \n                  Shuffle & Play All"),m.forEach(u),j=g(h),L=e(h,"A",{href:!0,class:!0});var p=o(L);y(aa.$$.fragment,p),C=i(p," \n                  Add to queue"),p.forEach(u),h.forEach(u),f.forEach(u),r.forEach(u),n.forEach(u),this.h()},h(){f(t,"class","dropdown-trigger"),f(_,"href",O=null),f(_,"class","dropdown-item"),f(M,"href",q=null),f(M,"class","dropdown-item"),f(L,"href",H=null),f(L,"class","dropdown-item"),f(S,"class","dropdown-content"),f(k,"class","dropdown-menu"),f(k,"id","dropdown-menu"),f(k,"role","menu"),f(s,"class","dropdown is-right"),A(s,"is-active",a[5]),f(l,"class","column")},m(n,r,c){h(n,l,r),d(l,s),d(s,t),W[m].m(t,null),d(s,v),d(s,k),d(k,S),d(S,_),D(X,_,null),d(_,N),d(S,B),d(S,M),D(Z,M,null),d(M,U),d(S,j),d(S,L),D(aa,L,null),d(L,C),R=!0,c&&I(G),G=[V(t,"click",a[27]),V(_,"click",function(){F(a[16](a[8]))&&a[16](a[8]).apply(this,arguments)}),V(M,"click",function(){F(a[19](a[8]))&&a[19](a[8]).apply(this,arguments)}),V(L,"click",function(){F(a[20](a[8]))&&a[20](a[8]).apply(this,arguments)})]},p(l,n){let r=m;(m=Y(a=l))===r?W[m].p(a,n):(T(),E(W[r],1,1,()=>{W[r]=null}),x(),($=W[m])||($=W[m]=z[m](a)).c(),w($,1),$.m(t,null)),32&n[0]&&A(s,"is-active",a[5])},i(a){R||(w($),w(X.$$.fragment,a),w(Z.$$.fragment,a),w(aa.$$.fragment,a),R=!0)},o(a){E($),E(X.$$.fragment,a),E(Z.$$.fragment,a),E(aa.$$.fragment,a),R=!1},d(a){a&&u(l),W[m].d(),P(X),P(Z),P(aa),I(G)}}}function Na(a){let l,s,t;const c=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),D(c,l,null),t=!0},p:j,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Oa(a){let l,s,t;const c=new n({props:{icon:Y,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),D(c,l,null),t=!0},p:j,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Ba(a){let l,s,n={ctx:a,current:null,token:null,pending:ja,then:qa,catch:Ua,value:34,error:35};return v(s=a[3],n),{c(){l=k(),n.block.c()},l(a){l=k(),n.block.l(a)},m(a,s){h(a,l,s),n.block.m(a,n.anchor=s),n.mount=(()=>l.parentNode),n.anchor=l},p(l,t){if(a=l,n.ctx=a,8&t[0]&&s!==(s=a[3])&&v(s,n));else{const l=a.slice();l[34]=n.resolved,n.block.p(l,t)}},i:j,o:j,d(a){a&&u(l),n.block.d(a),n.token=null,n=null}}}function Ma(a){let l,s,n=[],t=new Map,c=a[8];const i=a=>a[33];for(let l=0;l<c.length;l+=1){let s=Ia(a,c,l),r=i(s);t.set(r,n[l]=Ra(r,s))}return{c(){l=r("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){l=e(a,"DIV",{class:!0});var s=o(l);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(u),this.h()},h(){f(l,"class","list is-hoverable")},m(a,t){h(a,l,t);for(let a=0;a<n.length;a+=1)n[a].m(l,null);s=!0},p(a,s){if(516992&s[0]){const r=a[8];T();for(let a=0;a<n.length;a+=1)n[a].r();n=ca(n,s,i,1,a,r,t,l,ea,Ra,null,Ia);for(let a=0;a<n.length;a+=1)n[a].a();x()}},i(a){if(!s){for(let a=0;a<c.length;a+=1)w(n[a]);s=!0}},o(a){for(let a=0;a<n.length;a+=1)E(n[a]);s=!1},d(a){a&&u(l);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Ua(a){let l,s,n=a[35].message+"";return{c(){l=r("p"),s=c(n),this.h()},l(a){l=e(a,"P",{class:!0,style:!0});var t=o(l);s=i(t,n),t.forEach(u),this.h()},h(){f(l,"class","list-item"),ia(l,"color","red")},m(a,n){h(a,l,n),d(l,s)},p(a,l){8&l[0]&&n!==(n=a[35].message+"")&&m(s,n)},d(a){a&&u(l)}}}function qa(a){let l,s,n;return{c(){l=r("a"),s=c("no tracks found"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var n=o(l);s=i(n,"no tracks found"),n.forEach(u),this.h()},h(){f(l,"class","list-item"),f(l,"href",n=null)},m(a,n){h(a,l,n),d(l,s)},p:j,d(a){a&&u(l)}}}function ja(a){let l,s;return{c(){l=r("p"),s=c("loading ..."),this.h()},l(a){l=e(a,"P",{class:!0});var n=o(l);s=i(n,"loading ..."),n.forEach(u),this.h()},h(){f(l,"class","list-item")},m(a,n){h(a,l,n),d(l,s)},p:j,d(a){a&&u(l)}}}function La(a){let l;return{c(){l=c("unknown artist")},l(a){l=i(a,"unknown artist")},m(a,s){h(a,l,s)},p:j,d(a){a&&u(l)}}}function Ca(a){let l,s,n,t=a[31].artists.map(za).join(", ")+"",r=a[31].name+"";return{c(){l=c(t),s=c(" - "),n=c(r)},l(a){l=i(a,t),s=i(a," - "),n=i(a,r)},m(a,t){h(a,l,t),h(a,s,t),h(a,n,t)},p(a,s){256&s[0]&&t!==(t=a[31].artists.map(za).join(", ")+"")&&m(l,t),256&s[0]&&r!==(r=a[31].name+"")&&m(n,r)},d(a){a&&u(l),a&&u(s),a&&u(n)}}}function Fa(a){let l;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){D(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Ha(a){let l;const s=new n({props:{icon:Y,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){D(s,a,n),l=!0},p:j,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Ra(a,l){let s,t,m,$,v,k,S,_,N,O,B,M,U,q,L,H,R,G,z,K,W,Y,X,Z,aa,la,sa,ca,ea,ia,fa,ha,da,ma=j;function pa(a,l){return a[31].artists?Ca:La}let ga=pa(l),$a=ga(l);const va=[Ha,Fa],wa=[];function Ea(a,l){return a[7]==a[33]+1?0:1}_=Ea(l),N=wa[_]=va[_](l);const ka=new n({props:{icon:J,class:"icon is-small"}}),ba=new n({props:{icon:oa,class:"icon is-small"}}),ya=new n({props:{icon:Q,class:"icon is-small"}}),Aa=new n({props:{icon:C,class:"icon is-small"}});function Da(...a){return l[28](l[33],...a)}function Ia(...a){return l[29](l[33],...a)}function Va(...a){return l[30](l[33],...a)}return{key:a,first:null,c(){s=r("a"),t=r("div"),m=r("div"),$a.c(),$=p(),v=r("div"),k=r("div"),S=r("div"),N.c(),O=p(),B=r("div"),M=r("div"),U=r("a"),b(ka.$$.fragment),q=c(" \n                      Play now"),H=p(),R=r("a"),b(ba.$$.fragment),G=c(" \n                      Play next"),K=p(),W=r("a"),b(ya.$$.fragment),Y=c(" \n                      Add to queue"),Z=p(),aa=r("a"),b(Aa.$$.fragment),la=c(" \n                      Add to a playlist"),ca=p(),this.h()},l(a){s=e(a,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var l=o(s);t=e(l,"DIV",{class:!0});var n=o(t);m=e(n,"DIV",{class:!0});var r=o(m);$a.l(r),r.forEach(u),$=g(n),v=e(n,"DIV",{class:!0});var c=o(v);k=e(c,"DIV",{class:!0});var f=o(k);S=e(f,"DIV",{class:!0});var h=o(S);N.l(h),h.forEach(u),O=g(f),B=e(f,"DIV",{class:!0,id:!0,role:!0});var d=o(B);M=e(d,"DIV",{class:!0});var p=o(M);U=e(p,"A",{href:!0,class:!0});var w=o(U);y(ka.$$.fragment,w),q=i(w," \n                      Play now"),w.forEach(u),H=g(p),R=e(p,"A",{href:!0,class:!0});var E=o(R);y(ba.$$.fragment,E),G=i(E," \n                      Play next"),E.forEach(u),K=g(p),W=e(p,"A",{href:!0,class:!0});var b=o(W);y(ya.$$.fragment,b),Y=i(b," \n                      Add to queue"),b.forEach(u),Z=g(p),aa=e(p,"A",{href:!0,class:!0});var A=o(aa);y(Aa.$$.fragment,A),la=i(A," \n                      Add to a playlist"),A.forEach(u),p.forEach(u),d.forEach(u),f.forEach(u),c.forEach(u),n.forEach(u),ca=g(l),l.forEach(u),this.h()},h(){f(m,"class","column"),f(S,"class","dropdown-trigger"),f(U,"href",L=null),f(U,"class","dropdown-item"),f(R,"href",z=null),f(R,"class","dropdown-item"),f(W,"href",X=null),f(W,"class","dropdown-item"),f(aa,"href",sa=null),f(aa,"class","dropdown-item"),f(M,"class","dropdown-content"),f(B,"class","dropdown-menu"),f(B,"id","dropdown-menu"),f(B,"role","menu"),f(k,"class","dropdown is-right is-up"),A(k,"is-active",l[7]==l[33]+1),f(v,"class","column is-narrow"),f(t,"class","columns is-mobile"),f(s,"class","list-item"),f(s,"href",ea=null),f(s,"draggable",ia=!0),f(s,"ondragover","return false"),A(s,"is-active",l[9]===l[33]),this.first=s},m(a,n,r){h(a,s,n),d(s,t),d(t,m),$a.m(m,null),d(t,$),d(t,v),d(v,k),d(k,S),wa[_].m(S,null),d(k,O),d(k,B),d(B,M),d(M,U),D(ka,U,null),d(U,q),d(M,H),d(M,R),D(ba,R,null),d(R,G),d(M,K),d(M,W),D(ya,W,null),d(W,Y),d(M,Z),d(M,aa),D(Aa,aa,null),d(aa,la),d(s,ca),ha=!0,r&&I(da),da=[V(U,"click",function(){F(l[16](l[31].uri))&&l[16](l[31].uri).apply(this,arguments)}),V(R,"click",function(){F(l[17](l[31].uri))&&l[17](l[31].uri).apply(this,arguments)}),V(W,"click",function(){F(l[18](l[31].uri))&&l[18](l[31].uri).apply(this,arguments)}),V(aa,"click",function(){F(l[13](l[31]))&&l[13](l[31]).apply(this,arguments)}),V(t,"click",function(){F(l[14](l[33]+1))&&l[14](l[33]+1).apply(this,arguments)}),V(s,"dragstart",Da),V(s,"drop",na(Ia)),V(s,"dragenter",Va)]},p(a,n){ga===(ga=pa(l=a))&&$a?$a.p(l,n):($a.d(1),($a=ga(l))&&($a.c(),$a.m(m,null)));let t=_;(_=Ea(l))===t?wa[_].p(l,n):(T(),E(wa[t],1,1,()=>{wa[t]=null}),x(),(N=wa[_])||(N=wa[_]=va[_](l)).c(),w(N,1),N.m(S,null)),384&n[0]&&A(k,"is-active",l[7]==l[33]+1),768&n[0]&&A(s,"is-active",l[9]===l[33])},r(){fa=s.getBoundingClientRect()},f(){ta(s),ma()},a(){ma(),ma=ra(s,fa,ua,{duration:300})},i(a){ha||(w(N),w(ka.$$.fragment,a),w(ba.$$.fragment,a),w(ya.$$.fragment,a),w(Aa.$$.fragment,a),ha=!0)},o(a){E(N),E(ka.$$.fragment,a),E(ba.$$.fragment,a),E(ya.$$.fragment,a),E(Aa.$$.fragment,a),ha=!1},d(a){a&&u(s),$a.d(),wa[_].d(),P(ka),P(ba),P(ya),P(Aa),I(da)}}}function Ga(a){let l,s,t,m,$,v,_,N,O,B,M,U,q,j,L,C,F,H,J,K,Q,W,Y,X,Z,aa,la,sa,na,ta,ra,ca,ea;const oa=[xa,Ta],ia=[];function ua(a,l){return a[0]?0:1}H=ua(a),J=ia[H]=oa[H](a);let fa=a[2],ha=[];for(let l=0;l<fa.length;l+=1)ha[l]=Sa(Va(a,fa,l));let da=null;fa.length||(da=Pa());const ma=new n({props:{icon:R,class:"icon"}});let pa=a[8].length>0&&_a(a);const ga=new Da({props:{showAddToPlaylistModal:a[4],track:a[6]}}),$a=[Ma,Ba],va=[];function wa(a,l){return a[8].length>0?0:a[3]?1:-1}return~(na=wa(a))&&(ta=va[na]=$a[na](a)),{c(){l=p(),s=r("h1"),t=c("Search"),m=p(),$=r("div"),v=r("div"),_=r("input"),N=p(),O=r("div"),B=r("div"),M=r("div"),U=r("div"),q=r("div"),j=r("button"),L=r("span"),C=c("Sources"),F=p(),J.c(),K=p(),Q=r("div"),W=r("div");for(let a=0;a<ha.length;a+=1)ha[a].c();da&&da.c(),Y=p(),X=r("div"),Z=r("button"),b(ma.$$.fragment),aa=p(),pa&&pa.c(),la=p(),b(ga.$$.fragment),sa=p(),ta&&ta.c(),ra=k(),this.h()},l(a){G('[data-svelte="svelte-3s7lyl"]',document.head).forEach(u),l=g(a),s=e(a,"H1",{class:!0});var n=o(s);t=i(n,"Search"),n.forEach(u),m=g(a),$=e(a,"DIV",{class:!0});var r=o($);v=e(r,"DIV",{class:!0});var c=o(v);_=e(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(u),N=g(r),O=e(r,"DIV",{class:!0});var f=o(O);B=e(f,"DIV",{class:!0});var h=o(B);M=e(h,"DIV",{class:!0});var d=o(M);U=e(d,"DIV",{class:!0});var p=o(U);q=e(p,"DIV",{class:!0});var w=o(q);j=e(w,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var E=o(j);L=e(E,"SPAN",{});var b=o(L);C=i(b,"Sources"),b.forEach(u),F=g(E),J.l(E),E.forEach(u),w.forEach(u),K=g(p),Q=e(p,"DIV",{class:!0,id:!0,role:!0});var A=o(Q);W=e(A,"DIV",{class:!0});var D=o(W);for(let a=0;a<ha.length;a+=1)ha[a].l(D);da&&da.l(D),D.forEach(u),A.forEach(u),p.forEach(u),d.forEach(u),Y=g(h),X=e(h,"DIV",{class:!0});var I=o(X);Z=e(I,"BUTTON",{class:!0});var V=o(Z);y(ma.$$.fragment,V),V.forEach(u),I.forEach(u),aa=g(h),pa&&pa.l(h),h.forEach(u),f.forEach(u),r.forEach(u),la=g(a),y(ga.$$.fragment,a),sa=g(a),ta&&ta.l(a),ra=k(),this.h()},h(){document.title="Search",f(s,"class","title"),f(_,"class","input is-rounded svelte-ywa9aa"),f(_,"type","text"),f(_,"placeholder","Search for music"),f(v,"class","column"),f(j,"class","button is-link"),f(j,"aria-haspopup","true"),f(j,"aria-controls","dropdown-menu-sources"),f(q,"class","dropdown-trigger"),f(W,"class","dropdown-content"),f(Q,"class","dropdown-menu"),f(Q,"id","dropdown-menu-sources"),f(Q,"role","menu"),f(U,"class","dropdown"),A(U,"is-active",a[0]),f(M,"class","column"),f(Z,"class","button"),f(X,"class","column"),f(B,"class","columns is-mobile"),f(O,"class","column is-narrow"),f($,"class","columns")},m(n,r,c){h(n,l,r),h(n,s,r),d(s,t),h(n,m,r),h(n,$,r),d($,v),d(v,_),z(_,a[10]),d($,N),d($,O),d(O,B),d(B,M),d(M,U),d(U,q),d(q,j),d(j,L),d(L,C),d(j,F),ia[H].m(j,null),d(U,K),d(U,Q),d(Q,W);for(let a=0;a<ha.length;a+=1)ha[a].m(W,null);da&&da.m(W,null),d(B,Y),d(B,X),d(X,Z),D(ma,Z,null),d(B,aa),pa&&pa.m(B,null),h(n,la,r),D(ga,n,r),h(n,sa,r),~na&&va[na].m(n,r),h(n,ra,r),ca=!0,c&&I(ea),ea=[V(_,"keydown",a[12]),V(_,"input",a[23]),V(q,"click",a[24]),V(Z,"click",a[11])]},p(a,l){1024&l[0]&&_.value!==a[10]&&z(_,a[10]);let s=H;if((H=ua(a))===s?ia[H].p(a,l):(T(),E(ia[s],1,1,()=>{ia[s]=null}),x(),(J=ia[H])||(J=ia[H]=oa[H](a)).c(),w(J,1),J.m(j,null)),6&l[0]){let s;for(fa=a[2],s=0;s<fa.length;s+=1){const n=Va(a,fa,s);ha[s]?ha[s].p(n,l):(ha[s]=Sa(n),ha[s].c(),ha[s].m(W,null))}for(;s<ha.length;s+=1)ha[s].d(1);ha.length=fa.length,fa.length?da&&(da.d(1),da=null):da||((da=Pa()).c(),da.m(W,null))}1&l[0]&&A(U,"is-active",a[0]),a[8].length>0?pa?(pa.p(a,l),w(pa,1)):((pa=_a(a)).c(),w(pa,1),pa.m(B,null)):pa&&(T(),E(pa,1,1,()=>{pa=null}),x());const n={};16&l[0]&&(n.showAddToPlaylistModal=a[4]),64&l[0]&&(n.track=a[6]),ga.$set(n);let t=na;(na=wa(a))===t?~na&&va[na].p(a,l):(ta&&(T(),E(va[t],1,1,()=>{va[t]=null}),x()),~na?((ta=va[na])||(ta=va[na]=$a[na](a)).c(),w(ta,1),ta.m(ra.parentNode,ra)):ta=null)},i(a){ca||(w(J),w(ma.$$.fragment,a),w(pa),w(ga.$$.fragment,a),w(ta),ca=!0)},o(a){E(J),E(ma.$$.fragment,a),E(pa),E(ga.$$.fragment,a),E(ta),ca=!1},d(a){a&&u(l),a&&u(s),a&&u(m),a&&u($),ia[H].d(),S(ha,a),da&&da.d(),P(ma),pa&&pa.d(),a&&u(la),P(ga,a),a&&u(sa),~na&&va[na].d(a),a&&u(ra),I(ea)}}}const za=a=>a.name;function Ja(a,l,s){let n;_(a,N,a=>s(21,n=a));let t,r,c,e=!1,o=["local"],i=["http","https","mms","rtmp","rtmps","rtsp","file"],u=[],f=!1,h=!1,d=[],m=!1,p="";B(async()=>{M(N,n=await U());const a=await n.getUriSchemes();a&&s(2,u=a.filter(a=>-1===i.indexOf(a)))});const g=async()=>{s(8,d=[]);const a=o.map(a=>a+":"),l=await n.library.search({query:{any:[p]},uris:[`${a}`]});if(l&&l.length>0){let{tracks:a}=l.pop();return a&&s(8,d=a),!0}};function $(a,l){a.dataTransfer.dropEffect="move";parseInt(a.dataTransfer.getData("text/plain"));s(9,m=null)}const v=[[]];return[e,o,u,t,f,h,r,c,d,m,p,g,function(a){13===a.which&&s(3,t=g())},a=>{s(6,r=a),s(4,f=!f)},a=>{s(7,c=c===a?null:a)},$,a=>{X(a),s(7,c=null)},a=>{Z(a),s(7,c=null)},a=>{aa(a),s(7,c=null)},a=>{la(a),s(5,h=!h)},a=>{aa(a),s(5,h=!h)},n,i,function(){p=this.value,s(10,p)},()=>s(0,e=!e),function(){o=sa(v[0]),s(1,o)},v,()=>s(5,h=!h),(a,l)=>(function(a,l){a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move";const s=l;a.dataTransfer.setData("text/plain",s)})(l,a),(a,l)=>$(l),a=>s(9,m=a)]}export default class extends a{constructor(a){super(),l(this,a,Ja,Ga,s,{},[-1,-1])}}
