import{S as l,b as s,s as a,e as n,t,d as e,f as r,g as c,n as o,j as i,h,k as u,l as f,m,q as p,o as d,P as g,C as v,D as $,F as b,w,x as E,z as k,r as y,i as I,ao as V,ap as x,aq as A,E as D,ae as P,I as q,J as B,L,M as O,_ as j,O as N,Q as R,a7 as z,V as C,$ as F,a0 as H,T as J,ar as M,al as Q,Y as S,a6 as T,a3 as U}from"./client.0ef709ed.js";function Y(l,s,a){const n=l.slice();return n[12]=s[a],n[14]=a,n}function _(l,s,a){const n=l.slice();return n[16]=s[a],n[14]=a,n}function G(l){let s,a,g,v,$,b,w=l[16].name+"";function E(...s){return l[9](l[16],l[14],...s)}return{c(){s=n("li"),a=n("a"),g=t(w),$=e(),this.h()},l(l){s=r(l,"LI",{class:!0});var n=c(s);a=r(n,"A",{href:!0,class:!0});var t=c(a);g=o(t,w),t.forEach(i),$=h(n),n.forEach(i),this.h()},h(){u(a,"href",v=null),u(a,"class","svelte-g89v9p"),u(s,"class","svelte-g89v9p")},m(l,n,t){f(l,s,n),m(s,a),m(a,g),m(s,$),t&&b(),b=p(a,"click",E)},p(s,a){l=s,1&a&&w!==(w=l[16].name+"")&&d(g,w)},d(l){l&&i(s),b()}}}function K(l){let s,a,t,e={ctx:l,current:null,token:null,pending:Z,then:X,catch:W,error:15,blocks:[,,,]};return g(a=l[2],e),{c(){s=n("div"),e.block.c(),this.h()},l(l){s=r(l,"DIV",{class:!0});var a=c(s);e.block.l(a),a.forEach(i),this.h()},h(){u(s,"class","list is-hoverable")},m(l,a){f(l,s,a),e.block.m(s,e.anchor=null),e.mount=(()=>s),e.anchor=null,t=!0},p(s,n){if(l=s,e.ctx=l,4&n&&a!==(a=l[2])&&g(a,e));else{const s=l.slice();e.block.p(s,n)}},i(l){t||(v(e.block),t=!0)},o(l){for(let l=0;l<3;l+=1){const s=e.blocks[l];$(s)}t=!1},d(l){l&&i(s),e.block.d(),e.token=null,e=null}}}function W(l){let s,a,e=l[15].message+"";return{c(){s=n("p"),a=t(e),this.h()},l(l){s=r(l,"P",{class:!0,style:!0});var n=c(s);a=o(n,e),n.forEach(i),this.h()},h(){u(s,"class","list-item"),j(s,"color","red")},m(l,n){f(l,s,n),m(s,a)},p(l,s){4&s&&e!==(e=l[15].message+"")&&d(a,e)},i:N,o:N,d(l){l&&i(s)}}}function X(l){return{c:N,l:N,m:N,p:N,i:N,o:N,d:N}}function Z(l){let s,a;const t=new R({props:{icon:z,class:"icon is-24",spin:!0}});return{c(){s=n("p"),w(t.$$.fragment),this.h()},l(l){s=r(l,"P",{class:!0});var a=c(s);E(t.$$.fragment,a),a.forEach(i),this.h()},h(){u(s,"class","list-item")},m(l,n){f(l,s,n),k(t,s,null),a=!0},p:N,i(l){a||(v(t.$$.fragment,l),a=!0)},o(l){$(t.$$.fragment,l),a=!1},d(l){l&&i(s),D(t)}}}function ll(l){let s,a,t=l[1],e=[];for(let s=0;s<t.length;s+=1)e[s]=rl(Y(l,t,s));const o=l=>$(e[l],1,1,()=>{e[l]=null});let h=null;return t.length||(h=sl()),{c(){s=n("div");for(let l=0;l<e.length;l+=1)e[l].c();h&&h.c(),this.h()},l(l){s=r(l,"DIV",{class:!0});var a=c(s);for(let l=0;l<e.length;l+=1)e[l].l(a);h&&h.l(a),a.forEach(i),this.h()},h(){u(s,"class","list is-hoverable")},m(l,n){f(l,s,n);for(let l=0;l<e.length;l+=1)e[l].m(s,null);h&&h.m(s,null),a=!0},p(l,a){if(62&a){let n;for(t=l[1],n=0;n<t.length;n+=1){const r=Y(l,t,n);e[n]?(e[n].p(r,a),v(e[n],1)):(e[n]=rl(r),e[n].c(),v(e[n],1),e[n].m(s,null))}for(C(),n=t.length;n<e.length;n+=1)o(n);b(),t.length?h&&(h.d(1),h=null):h||((h=sl()).c(),h.m(s,null))}},i(l){if(!a){for(let l=0;l<t.length;l+=1)v(e[l]);a=!0}},o(l){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)$(e[l]);a=!1},d(l){l&&i(s),P(e,l),h&&h.d()}}}function sl(l){let s,a,e;return{c(){s=n("a"),a=t("no results\n      "),this.h()},l(l){s=r(l,"A",{href:!0,class:!0});var n=c(s);a=o(n,"no results\n      "),n.forEach(i),this.h()},h(){u(s,"href",e=null),u(s,"class","list-item")},m(l,n){f(l,s,n),m(s,a)},d(l){l&&i(s)}}}function al(l){let s,a,t,e,o;const h=[tl,nl],m=[];function d(l,s){return l[3]==l[14]?0:1}function g(...s){return l[11](l[14],...s)}return a=d(l),t=m[a]=h[a](l),{c(){s=n("div"),t.c(),this.h()},l(l){s=r(l,"DIV",{class:!0});var a=c(s);t.l(a),a.forEach(i),this.h()},h(){u(s,"class","column is-narrow")},m(l,n,t){f(l,s,n),m[a].m(s,null),e=!0,t&&o(),o=p(s,"click",g)},p(n,e){let r=a;(a=d(l=n))===r?m[a].p(l,e):(C(),$(m[r],1,1,()=>{m[r]=null}),b(),(t=m[a])||(t=m[a]=h[a](l)).c(),v(t,1),t.m(s,null))},i(l){e||(v(t),e=!0)},o(l){$(t),e=!1},d(l){l&&i(s),m[a].d(),o()}}}function nl(l){let s;const a=new R({props:{icon:F,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){w(a.$$.fragment)},l(l){E(a.$$.fragment,l)},m(l,n){k(a,l,n),s=!0},p:N,i(l){s||(v(a.$$.fragment,l),s=!0)},o(l){$(a.$$.fragment,l),s=!1},d(l){D(a,l)}}}function tl(l){let s;const a=new R({props:{icon:H,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){w(a.$$.fragment)},l(l){E(a.$$.fragment,l)},m(l,n){k(a,l,n),s=!0},p:N,i(l){s||(v(a.$$.fragment,l),s=!0)},o(l){$(a.$$.fragment,l),s=!1},d(l){D(a,l)}}}function el(l){let s,a,d,g,b,P,q,B,L,O,j,N,z,C,F,H,S;const T=new R({props:{icon:J,class:"icon is-small"}}),U=new R({props:{icon:M,class:"icon is-small"}}),Y=new R({props:{icon:Q,class:"icon is-small"}});return{c(){s=n("div"),a=n("div"),d=n("a"),w(T.$$.fragment),g=t(" \n                    Play now"),P=e(),q=n("div"),B=n("a"),w(U.$$.fragment),L=t(" \n                    Play next"),j=e(),N=n("div"),z=n("a"),w(Y.$$.fragment),C=t(" \n                    Add to queue"),this.h()},l(l){s=r(l,"DIV",{class:!0});var n=c(s);a=r(n,"DIV",{class:!0});var t=c(a);d=r(t,"A",{href:!0,class:!0});var e=c(d);E(T.$$.fragment,e),g=o(e," \n                    Play now"),e.forEach(i),t.forEach(i),P=h(n),q=r(n,"DIV",{class:!0});var u=c(q);B=r(u,"A",{href:!0,class:!0});var f=c(B);E(U.$$.fragment,f),L=o(f," \n                    Play next"),f.forEach(i),u.forEach(i),j=h(n),N=r(n,"DIV",{class:!0});var m=c(N);z=r(m,"A",{href:!0,class:!0});var p=c(z);E(Y.$$.fragment,p),C=o(p," \n                    Add to queue"),p.forEach(i),m.forEach(i),n.forEach(i),this.h()},h(){u(d,"href",b=null),u(d,"class","dropdown-item"),u(a,"class","list-item"),u(B,"href",O=null),u(B,"class","dropdown-item"),u(q,"class","list-item"),u(z,"href",F=null),u(z,"class","dropdown-item"),u(N,"class","list-item"),u(s,"class","list is-hoverable")},m(n,t,e){f(n,s,t),m(s,a),m(a,d),k(T,d,null),m(d,g),m(s,P),m(s,q),m(q,B),k(U,B,null),m(B,L),m(s,j),m(s,N),m(N,z),k(Y,z,null),m(z,C),H=!0,e&&y(S),S=[p(d,"click",function(){I(V(l[12].uri))&&V(l[12].uri).apply(this,arguments)}),p(B,"click",function(){I(x(l[12].uri))&&x(l[12].uri).apply(this,arguments)}),p(z,"click",function(){I(A(l[12].uri))&&A(l[12].uri).apply(this,arguments)})]},p(s,a){l=s},i(l){H||(v(T.$$.fragment,l),v(U.$$.fragment,l),v(Y.$$.fragment,l),H=!0)},o(l){$(T.$$.fragment,l),$(U.$$.fragment,l),$(Y.$$.fragment,l),H=!1},d(l){l&&i(s),D(T),D(U),D(Y),y(S)}}}function rl(l){let s,a,g,w,E,k,y,I,V,x,A=l[12].name+"",D=l[12].uri.indexOf("md5")>-1||"track"===l[12].type;function P(...s){return l[10](l[12],l[14],...s)}let q=D&&al(l),B=l[3]==l[14]&&el(l);return{c(){s=n("a"),a=n("div"),g=n("div"),w=t(A),E=e(),q&&q.c(),k=e(),B&&B.c(),y=e(),this.h()},l(l){s=r(l,"A",{href:!0,class:!0});var n=c(s);a=r(n,"DIV",{class:!0});var t=c(a);g=r(t,"DIV",{class:!0});var e=c(g);w=o(e,A),e.forEach(i),E=h(t),q&&q.l(t),t.forEach(i),k=h(n),B&&B.l(n),y=h(n),n.forEach(i),this.h()},h(){u(g,"class","column"),u(a,"class","columns is-mobile"),u(s,"href",I=null),u(s,"class","list-item")},m(l,n,t){f(l,s,n),m(s,a),m(a,g),m(g,w),m(a,E),q&&q.m(a,null),m(s,k),B&&B.m(s,null),m(s,y),V=!0,t&&x(),x=p(g,"click",P)},p(n,t){l=n,(!V||2&t)&&A!==(A=l[12].name+"")&&d(w,A),2&t&&(D=l[12].uri.indexOf("md5")>-1||"track"===l[12].type),D?q?(q.p(l,t),v(q,1)):((q=al(l)).c(),v(q,1),q.m(a,null)):q&&(C(),$(q,1,1,()=>{q=null}),b()),l[3]==l[14]?B?(B.p(l,t),v(B,1)):((B=el(l)).c(),v(B,1),B.m(s,y)):B&&(C(),$(B,1,1,()=>{B=null}),b())},i(l){V||(v(q),v(B),V=!0)},o(l){$(q),$(B),V=!1},d(l){l&&i(s),q&&q.d(),B&&B.d(),x()}}}function cl(l){let s,a,d,g,w,E,k,y,I,V,x,A,D,L,O,j,N=l[0],R=[];for(let s=0;s<N.length;s+=1)R[s]=G(_(l,N,s));let z=l[2]&&K(l),F=l[1].length>0&&ll(l);return{c(){s=e(),a=n("h1"),d=t("Browse"),g=e(),w=n("nav"),E=n("ul"),k=n("li"),y=n("a"),I=t("Root"),x=e();for(let l=0;l<R.length;l+=1)R[l].c();A=e(),z&&z.c(),D=e(),F&&F.c(),L=q(),this.h()},l(l){B('[data-svelte="svelte-1n5cjn7"]',document.head).forEach(i),s=h(l),a=r(l,"H1",{class:!0});var n=c(a);d=o(n,"Browse"),n.forEach(i),g=h(l),w=r(l,"NAV",{class:!0,"aria-label":!0});var t=c(w);E=r(t,"UL",{class:!0});var e=c(E);k=r(e,"LI",{class:!0});var u=c(k);y=r(u,"A",{href:!0,class:!0});var f=c(y);I=o(f,"Root"),f.forEach(i),u.forEach(i),x=h(e);for(let l=0;l<R.length;l+=1)R[l].l(e);e.forEach(i),t.forEach(i),A=h(l),z&&z.l(l),D=h(l),F&&F.l(l),L=q(),this.h()},h(){document.title="Browse",u(a,"class","title"),u(y,"href",V=null),u(y,"class","svelte-g89v9p"),u(k,"class","svelte-g89v9p"),u(E,"class","svelte-g89v9p"),u(w,"class","breadcrumb svelte-g89v9p"),u(w,"aria-label","breadcrumbs")},m(n,t,e){f(n,s,t),f(n,a,t),m(a,d),f(n,g,t),f(n,w,t),m(w,E),m(E,k),m(k,y),m(y,I),m(E,x);for(let l=0;l<R.length;l+=1)R[l].m(E,null);f(n,A,t),z&&z.m(n,t),f(n,D,t),F&&F.m(n,t),f(n,L,t),O=!0,e&&j(),j=p(y,"click",l[8])},p(l,[s]){if(21&s){let a;for(N=l[0],a=0;a<N.length;a+=1){const n=_(l,N,a);R[a]?R[a].p(n,s):(R[a]=G(n),R[a].c(),R[a].m(E,null))}for(;a<R.length;a+=1)R[a].d(1);R.length=N.length}l[2]?z?(z.p(l,s),v(z,1)):((z=K(l)).c(),v(z,1),z.m(D.parentNode,D)):z&&(C(),$(z,1,1,()=>{z=null}),b()),l[1].length>0?F?(F.p(l,s),v(F,1)):((F=ll(l)).c(),v(F,1),F.m(L.parentNode,L)):F&&(C(),$(F,1,1,()=>{F=null}),b())},i(l){O||(v(z),v(F),O=!0)},o(l){$(z),$(F),O=!1},d(l){l&&i(s),l&&i(a),l&&i(g),l&&i(w),P(R,l),l&&i(A),z&&z.d(l),l&&i(D),F&&F.d(l),l&&i(L),j()}}}function ol(l,s,a){let n;L(l,U,l=>a(7,n=l));let t,e,r=[],c=[];O(async()=>{S(U,n=await T()),a(1,c=await n.library.browse({uri:null}))});const o=async(l,s,t)=>{["directory","artist","album"].indexOf(l.type)>-1?(a(3,e=null),a(1,c=await n.library.browse({uri:l.uri})),"back"===t?a(0,r=[l]):"avance"===t&&a(0,r=[...r,l])):"track"===l.type&&i(s)},i=l=>{a(3,e=e==l?null:l)},h=async()=>{a(1,c=await n.library.browse({uri:null})),a(0,r=[])};return[r,c,t,e,o,i,h,n,()=>a(2,t=h()),(l,s)=>a(2,t=o(l,s,"back")),(l,s)=>a(2,t=o(l,s,"avance")),l=>i(l)]}export default class extends l{constructor(l){super(),s(this,l,ol,cl,a,{})}}
