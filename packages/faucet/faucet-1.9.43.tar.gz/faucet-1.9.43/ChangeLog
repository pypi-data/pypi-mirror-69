CHANGES
=======

1.9.43
------

* Update dependency exabgp to v4.2.8
* Don't take down stack ports on config restart, unless topology change
* Update dependency exabgp to v4.2.7
* Update grafana/grafana Docker tag to v7
* Update dependency pytype to v2020.5.13

1.9.42
------

* minor prom var refactoring
* fix LACP untagged test
* Config generator
* Don't mark deleted files as modified
* Update dependency pytype to v2020.5.7
* None test
* Change port id in tests
* Modify test to check for most recent event
* Add lacp port role to LAG\_CHANGE event in addition to actor state
* Make default value -1
* Add lacp\_port\_id to test config
* Make lacp\_port\_id configurable and add varz to track it
* Update prom/prometheus Docker tag to v2.18.1
* Downgrade pylint
* Fix STATIC\_TABLE\_IDS feature
* Use a calculated combination of dp\_id and port number for lacp port id instead of the port number

1.9.41
------

* Split release workflow
* Strictly preserve order of operations on flow add/mods

1.9.40
------

* Lint fixes
* Test to validate graph object in STACK\_TOPO\_CHANGE
* Move docker builds to github actions
* Add verification config changes can be reverted
* Replace gitlab CI with github actions
* Add stack info to learn message
* include linux-headers for grpcio

1.9.39
------

* Invert flow match order
* Fix warm starting with tagged ports, where the tagged ports didn't change but lost their VLAN table matches
* Update dependency sphinx to v3.0.3
* pylint
* pylint
* Revert back to serialisable form of stack graph
* pylint
* Update grafana/grafana Docker tag to v6.7.3
* Update dependency pytype to v2020.4.22
* Use regular influxdb image for both amd64/arm
* Update influxdb Docker tag to v1.8
* Update prom/prometheus Docker tag to v2.17.2
* Empty commit
* Adjusting tests
* Fixing some tests
* add\_port
* Order/dependent
* Default edge\_learn stack\_root to True
* Add TODO
* dot1x manager pattern
* Bump python3-yaml version in debian/control
* Update dependency sphinx to v3

1.9.38
------

* stickler
* Smarter 8021x Identity test
* Simplify 8021x VLAN reassignment
* Remove stack ref from standalone
* Learn once from echo if host didn't ARP/ND for VIP first
* Flush arp cache before pinging faucet VIP
* Increase timeout so unit tests can run on machines with less CPU
* stickler
* Migrate to valve manager pattern
* Ignore LACP churn metric
* Improve shared BGP speaker VLAN error message
* consolidate valve\_host and valve\_flood in valve\_switch
* lint fix
* Use LACP port priority in LACP packets. Add to integration test
* Add lacp\_port\_priority
* Add test for port\_lacp\_role
* Add lacp\_port\_role metric
* images now have multi-arch for x64\_64/arm
* Update grafana/grafana Docker tag to v6.7.2
* Update dependency pytype to v2020.4.1
* removing duplicate data
* make suggested changes
* Add direct link to supported hardware

1.9.37
------

* Only remove delete ofmsgs that have a global delete of the same type
* lacp\_standby
* Update dependency pytype to v2020.3.19
* Update dependency pyyaml to v5.3.1
* fix typography
* Fix pytype error
* port option for integration test start port

1.9.36
------

* dynamic tunnel ID fix
* Add -Z root
* Don't do complex stack config change comparison
* FaucetUntaggedExpireIPv4InterVLANRouteTest could use wrong test host
* pylint
* Test mirror/unmirror operation
* pylint
* Also tunnel IDs not deterministic
* Make tunnel\_ids deterministic
* Test unmirroring
* Detect mirror changes
* Wait for config to be applied after a cold start
* force cold start on VLAN involving routing
* Fix changes to DP level only config are not detected. Don't pollute stack config structure with graph. Explicitly check for port VLAN moves
* Ordered ACL output actions and tunnel improvements
* drop\_bpdu no longer exists

1.9.35
------

* When adding a link fault, check that the controller sees the same fault on the same link. Apart from being yet another check that the test suite is correct, it also reduces the test suite's load sensitivity (by not trying to verify connectivity until we are certain the controller knows the desired link state)
* Description only change is not an DP impactful change
* Remove requirement for drop\_spoofed\_faucet\_mac workaround
* Consolidate common MACs in MAC spoofing
* When stacking is enabled, only FAUCET MAC spoofing should only affect non-stack ports
* placate pytype

1.9.34
------

* Modify LACP state machine
* Update dependency pytype to v2020.2.20
* stickler
* Should continue to switch even after receiving non Ethernet II/DTP frame
* Improve no response error message
* update() -> \_update() for prom pollers

1.9.33
------

* Update prom/prometheus-pi Docker tag to v2.16.0
* Revert to actor state NONE if no phys is up
* port attr
* config
* count\_untag\_vlan\_miss
* pylint
* Test explicit untagged traffic dropped
* Add explicit untagged drop rule when no tagged in use
* Update prom/prometheus Docker tag to v2.16.0
* Install lacp flowrules on cold-start
* Flood to stack ports for inter-VLAN routing
* Update dependency pytype to v2020.2.6
* Add unit tests
* Iterate through modules when expanding tests
* Update grafana/grafana Docker tag to v6.6.1
* Update grafana/grafana-arm32v7-linux Docker tag to v6.6.1
* Update dependency exabgp to v4.2.6
* added slowpath\_meter and fixed meterdel
* Delete changelog
* Add config check for invalid meter\_ids
* Only have some LACP links sync, collecting & distributing for a LAG, this is based on the DPID
* Add multidp LAG tests

1.9.32
------

* add metering warm reloads
* metering tests
* Should check version in old logfile, if it exists
* Prevent some multiDP tests from running on hardware
* Stickler
* Log version on startup. Verify Gauge has no exceptions also
* LRU caching for flood rule priority
* Cache ND/ARP creation
* Cache matches
* Add more LRU caching
* typo
* Allow transit stack switches to know VLANs
* Need to explicitly install pip3 build dependencies first

1.9.31
------

* Update grafana/grafana-arm32v7-linux Docker tag to v6.6.0
* Update grafana/grafana Docker tag to v6.6.0
* Edge-learn to root algorithm
* Update dependency pytype to v2020.1.24
* jobs/include makes Travis run serial now
* stickler
* Avoid getting stuck in flowtable filename loop
* Print host info when debugging multidp tests
* Update dependency exabgp to v4.2.4
* Add chained stack test case

1.9.30
------

* Don't do a delete all on disconnect
* Should be using captured not received by filter
* Correct test for edge learning - remote port must be up
* Send delete all on controller initiated OF disconnect
* Implement forwarding/non forwarding status for non-stack ports
* re packet match
* Document multimirror restriction and change tests to accomodate only one copy of traffic mirrored between ports
* Add comments for linty
* edge\_learn\_port test
* Need test verifying set\_field action for ICMPV4\_TYPE, IPV4\_DST, IPV4\_SRC, IP\_DSCP
* fix test suite stack links overwriting redundant host links
* Update grafana/grafana-arm32v7-linux Docker tag to v6.5.3
* Update grafana/grafana Docker tag to v6.5.3
* Need test to verify switches can match IP\_DSCP field

1.9.29
------

* Update pyyaml version in debian/control
