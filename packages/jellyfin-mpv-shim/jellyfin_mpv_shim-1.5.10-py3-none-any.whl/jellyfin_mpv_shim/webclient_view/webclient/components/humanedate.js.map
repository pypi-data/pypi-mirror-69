{"version":3,"sources":["components/humanedate.js"],"names":["define","datetime","humaneDate","date_str","format","time_formats","seconds","Date","parseISO8601Date","i","Math","abs","length","round","humaneElapsed","firstDateStr","secondDateStr","dateOne","delta","getTime","days","floor","hours","minutes","elapsed","window"],"mappings":"AAAA,aAAAA,OAAO,CAAC,aAAa,SAAUC,UAG3B,SAASC,WAAWC,UAChB,IAAIC,OACAC,aAAe,CACf,CAAC,GAAI,YACL,CAAC,KAAM,UAAW,IAClB,CAAC,KAAM,WACP,CAAC,MAAO,QAAS,MACjB,CAAC,OAAQ,SACT,CAAC,OAAQ,OAAQ,OACjB,CAAC,OAAQ,UACT,CAAC,OAAQ,QAAS,QAClB,CAAC,OAAQ,WACT,CAAC,QAAS,SAAU,QACpB,CAAC,QAAS,UACV,CAAC,QAAS,QAAS,UAInBC,SAFK,IAAIC,KACFN,SAASO,iBAAiBL,UAAU,IACnB,IACxBM,EAAI,EAMR,IAJIH,QAAU,IACVA,QAAUI,KAAKC,IAAIL,UAGhBF,OAASC,aAAaI,MACzB,GAAIH,QAAUF,OAAO,GACjB,OAAI,GAAKA,OAAOQ,OACLR,OAAO,GAAK,OAGhBM,KAAKG,MAAMP,QAAUF,OAAO,IAAM,IAAMA,OAAO,GAAK,OAInE,OAAIE,QAAU,QACHI,KAAKG,MAAMP,QAAU,SAAW,iBAGpCH,SAGX,SAASW,cAAcC,aAAcC,eAEjC,IAAIC,QAAU,IAAIV,KAAKQ,cAEnBG,OADU,IAAIX,KAAKS,eACFG,UAAYF,QAAQE,WAAa,IAClDC,KAAOV,KAAKW,MAAMH,MAAQ,QAAU,OACpCI,MAAQZ,KAAKW,MAAMH,MAAQ,QAAU,MAAQ,MAC7CK,QAAUb,KAAKW,MAAMH,MAAQ,QAAU,MAAQ,KAAO,IACtDZ,QAAUI,KAAKG,MAAMK,MAAQ,QAAU,MAAQ,KAAO,IACtDM,QAAU,GAUd,OATAA,SAAW,GAAKJ,KAAOA,KAAO,QAAU,GACxCI,SAAWJ,KAAO,EAAIA,KAAO,SAAW,GACxCI,SAAW,GAAKF,MAAQA,MAAQ,SAAW,GAC3CE,SAAWF,MAAQ,EAAIA,MAAQ,UAAY,GAC3CE,SAAW,GAAKD,QAAUA,QAAU,WAAa,GACjDC,SAAWD,QAAU,EAAIA,QAAU,YAAc,GACjDC,SAAWA,QAAQZ,OAAS,EAAI,OAAS,GACzCY,SAAW,GAAKlB,QAAUA,QAAU,UAAY,GAChDkB,SAAW,GAAKlB,SAAWA,QAAU,EAAIA,QAAU,WAAa,GAMpE,OAFAmB,OAAOvB,WAAaA,WACpBuB,OAAOX,cAAgBA,cAChB,CACHZ,WAAYA,WACZY,cAAeA","file":"humanedate.js","sourcesContent":["define([\"datetime\"], function (datetime) {\n    \"use strict\";\n\n    function humaneDate(date_str) {\n        var format;\n        var time_formats = [\n            [90, \"a minute\"],\n            [3600, \"minutes\", 60],\n            [5400, \"an hour\"],\n            [86400, \"hours\", 3600],\n            [129600, \"a day\"],\n            [604800, \"days\", 86400],\n            [907200, \"a week\"],\n            [2628e3, \"weeks\", 604800],\n            [3942e3, \"a month\"],\n            [31536e3, \"months\", 2628e3],\n            [47304e3, \"a year\"],\n            [31536e5, \"years\", 31536e3]\n        ];\n        var dt = new Date();\n        var date = datetime.parseISO8601Date(date_str, true);\n        var seconds = (dt - date) / 1000.0;\n        var i = 0;\n\n        if (seconds < 0) {\n            seconds = Math.abs(seconds);\n        }\n        // eslint-disable-next-line no-cond-assign\n        for (; format = time_formats[i++];) {\n            if (seconds < format[0]) {\n                if (2 == format.length) {\n                    return format[1] + \" ago\";\n                }\n\n                return Math.round(seconds / format[2]) + \" \" + format[1] + \" ago\";\n            }\n        }\n\n        if (seconds > 47304e5) {\n            return Math.round(seconds / 47304e5) + \" centuries ago\";\n        }\n\n        return date_str;\n    }\n\n    function humaneElapsed(firstDateStr, secondDateStr) {\n        // TODO replace this whole script with a library or something\n        var dateOne = new Date(firstDateStr);\n        var dateTwo = new Date(secondDateStr);\n        var delta = (dateTwo.getTime() - dateOne.getTime()) / 1e3;\n        var days = Math.floor(delta % 31536e3 / 86400);\n        var hours = Math.floor(delta % 31536e3 % 86400 / 3600);\n        var minutes = Math.floor(delta % 31536e3 % 86400 % 3600 / 60);\n        var seconds = Math.round(delta % 31536e3 % 86400 % 3600 % 60);\n        var elapsed = \"\";\n        elapsed += 1 == days ? days + \" day \" : \"\";\n        elapsed += days > 1 ? days + \" days \" : \"\";\n        elapsed += 1 == hours ? hours + \" hour \" : \"\";\n        elapsed += hours > 1 ? hours + \" hours \" : \"\";\n        elapsed += 1 == minutes ? minutes + \" minute \" : \"\";\n        elapsed += minutes > 1 ? minutes + \" minutes \" : \"\";\n        elapsed += elapsed.length > 0 ? \"and \" : \"\";\n        elapsed += 1 == seconds ? seconds + \" second\" : \"\";\n        elapsed += 0 == seconds || seconds > 1 ? seconds + \" seconds\" : \"\";\n        return elapsed;\n    }\n\n    window.humaneDate = humaneDate;\n    window.humaneElapsed = humaneElapsed;\n    return {\n        humaneDate: humaneDate,\n        humaneElapsed: humaneElapsed\n    };\n});\n"]}