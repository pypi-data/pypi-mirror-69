"use strict";define(["connectionManager","confirm","appRouter","globalize"],(function(connectionManager,confirm,appRouter,globalize){return{deleteItem:function deleteItem(options){var item=options.item,itemId=item.Id,parentId=item.SeasonId||item.SeriesId||item.ParentId,serverId=item.ServerId,msg=globalize.translate("ConfirmDeleteItem"),title=globalize.translate("HeaderDeleteItem"),apiClient=connectionManager.getApiClient(item.ServerId);return confirm({title:title,text:msg,confirmText:globalize.translate("Delete"),primary:"delete"}).then((function(){return apiClient.deleteItem(itemId).then((function(){options.navigate&&(parentId?appRouter.showItem(parentId,serverId):appRouter.goHome())}),(function(err){var result=function result(){return Promise.reject(err)};return function alertText(options){return new Promise((function(resolve,reject){require(["alert"],(function(alert){alert(options).then(resolve,resolve)}))}))}(globalize.translate("ErrorDeletingItem")).then(result,result)}))}))}}}));
//# sourceMappingURL=deletehelper.js.map
