{"version":3,"sources":["controllers/dashboard/logs.js"],"names":["define","datetime","loading","appHost","view","params","addEventListener","show","apiClient","ApiClient","getJSON","getUrl","then","logs","html","map","log","logUrl","name","Name","logHtml","accessToken","date","parseISO8601Date","DateModified","text","toLocaleDateString","getDisplayTime","join","querySelector","innerHTML","hide"],"mappings":"AAAA,aAAAA,OAAO,CAAC,WAAY,UAAW,UAAW,gBAAiB,cAAe,eAAe,SAASC,SAAUC,QAASC,SAEjH,OAAO,SAASC,KAAMC,QAClBD,KAAKE,iBAAiB,kBAAkB,WACpCJ,QAAQK,OACR,IAAIC,UAAYC,UAChBD,UAAUE,QAAQF,UAAUG,OAAO,gBAAgBC,MAAK,SAASC,MAC7D,IAAIC,KAAO,GACXA,MAAQ,0BACRA,MAAQD,KAAKE,KAAI,SAASC,KACtB,IAAIC,OAAST,UAAUG,OAAO,kBAAmB,CAC7CO,KAAMF,IAAIG,OAGVC,QAAU,GACdA,SAAW,kCAFXH,QAAU,YAAcT,UAAUa,eAEqB,6EACvDD,SAAW,sCACXA,SAAW,gCAAkCJ,IAAIG,KAAO,QACxD,IAAIG,KAAOrB,SAASsB,iBAAiBP,IAAIQ,cAAc,GACnDC,KAAOxB,SAASyB,mBAAmBJ,MAKvC,OAHAF,SAAW,4CADXK,MAAQ,IAAMxB,SAAS0B,eAAeL,OACyB,SAC/DF,SAAW,SACXA,SAAW,UAEZQ,KAAK,IACRd,MAAQ,SACRV,KAAKyB,cAAc,eAAeC,UAAYhB,KAC9CZ,QAAQ6B","file":"logs.js","sourcesContent":["define([\"datetime\", \"loading\", \"apphost\", \"listViewStyle\", \"emby-button\", \"flexStyles\"], function(datetime, loading, appHost) {\n    \"use strict\";\n    return function(view, params) {\n        view.addEventListener(\"viewbeforeshow\", function() {\n            loading.show();\n            var apiClient = ApiClient;\n            apiClient.getJSON(apiClient.getUrl(\"System/Logs\")).then(function(logs) {\n                var html = \"\";\n                html += '<div class=\"paperList\">';\n                html += logs.map(function(log) {\n                    var logUrl = apiClient.getUrl(\"System/Logs/Log\", {\n                        name: log.Name\n                    });\n                    logUrl += \"&api_key=\" + apiClient.accessToken();\n                    var logHtml = \"\";\n                    logHtml += '<a is=\"emby-linkbutton\" href=\"' + logUrl + '\" target=\"_blank\" class=\"listItem listItem-border\" style=\"color:inherit;\">';\n                    logHtml += '<div class=\"listItemBody two-line\">';\n                    logHtml += \"<h3 class='listItemBodyText'>\" + log.Name + \"</h3>\";\n                    var date = datetime.parseISO8601Date(log.DateModified, true);\n                    var text = datetime.toLocaleDateString(date);\n                    text += \" \" + datetime.getDisplayTime(date);\n                    logHtml += '<div class=\"listItemBodyText secondary\">' + text + \"</div>\";\n                    logHtml += \"</div>\";\n                    logHtml += \"</a>\";\n                    return logHtml;\n                }).join(\"\");\n                html += \"</div>\";\n                view.querySelector(\".serverLogs\").innerHTML = html;\n                loading.hide();\n            });\n        });\n    }\n});\n"]}