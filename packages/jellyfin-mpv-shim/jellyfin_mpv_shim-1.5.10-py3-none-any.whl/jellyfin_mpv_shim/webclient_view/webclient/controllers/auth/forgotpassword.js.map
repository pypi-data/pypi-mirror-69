{"version":3,"sources":["controllers/auth/forgotpassword.js"],"names":["define","processForgotPasswordResult","result","Action","msg","Globalize","translate","PinFile","Dashboard","alert","message","title","callback","navigate","view","params","querySelector","addEventListener","onSubmit","e","ApiClient","ajax","type","url","getUrl","dataType","data","EnteredUsername","value","then","preventDefault"],"mappings":"AAAA,aAAAA,OAAO,IAAI,WAGP,SAASC,4BAA4BC,QACjC,GAAI,gBAAkBA,OAAOC,OAO7B,GAAI,qBAAuBD,OAAOC,QAOlC,GAAI,WAAaD,OAAOC,OAAQ,CAC5B,IAAIC,IAAMC,UAAUC,UAAU,oCAO9B,OANAF,KAAO,QACPA,KAAO,QACPA,KAAO,+CACPA,KAAO,QACPA,KAAOF,OAAOK,QACdH,KAAO,aACKI,UAAUC,MAAM,CACxBC,QAASN,IACTO,MAAON,UAAUC,UAAU,wBAC3BM,SAAU,SAAAA,WACNJ,UAAUK,SAAS,mCAlBfL,UAAUC,MAAM,CACxBC,QAASL,UAAUC,UAAU,0CAC7BK,MAAON,UAAUC,UAAU,+BATnBE,UAAUC,MAAM,CACxBC,QAASL,UAAUC,UAAU,sCAC7BK,MAAON,UAAUC,UAAU,0BA6BvC,OAAO,SAAUQ,KAAMC,QAcnBD,KAAKE,cAAc,QAAQC,iBAAiB,UAb5C,SAASC,SAASC,GAUd,OATAC,UAAUC,KAAK,CACXC,KAAM,OACNC,IAAKH,UAAUI,OAAO,wBACtBC,SAAU,OACVC,KAAM,CACFC,gBAAiBb,KAAKE,cAAc,YAAYY,SAErDC,KAAK5B,6BACRkB,EAAEW,kBACK","file":"forgotpassword.js","sourcesContent":["define([], function () {\n    \"use strict\";\n\n    function processForgotPasswordResult(result) {\n        if (\"ContactAdmin\" == result.Action) {\n            return void Dashboard.alert({\n                message: Globalize.translate(\"MessageContactAdminToResetPassword\"),\n                title: Globalize.translate(\"HeaderForgotPassword\")\n            });\n        }\n\n        if (\"InNetworkRequired\" == result.Action) {\n            return void Dashboard.alert({\n                message: Globalize.translate(\"MessageForgotPasswordInNetworkRequired\"),\n                title: Globalize.translate(\"HeaderForgotPassword\")\n            });\n        }\n\n        if (\"PinCode\" == result.Action) {\n            var msg = Globalize.translate(\"MessageForgotPasswordFileCreated\");\n            msg += \"<br/>\";\n            msg += \"<br/>\";\n            msg += \"Enter PIN here to finish Password Reset<br/>\";\n            msg += \"<br/>\";\n            msg += result.PinFile;\n            msg += \"<br/>\";\n            return void Dashboard.alert({\n                message: msg,\n                title: Globalize.translate(\"HeaderForgotPassword\"),\n                callback: function () {\n                    Dashboard.navigate(\"forgotpasswordpin.html\");\n                }\n            });\n        }\n    }\n\n    return function (view, params) {\n        function onSubmit(e) {\n            ApiClient.ajax({\n                type: \"POST\",\n                url: ApiClient.getUrl(\"Users/ForgotPassword\"),\n                dataType: \"json\",\n                data: {\n                    EnteredUsername: view.querySelector(\"#txtName\").value\n                }\n            }).then(processForgotPasswordResult);\n            e.preventDefault();\n            return false;\n        }\n\n        view.querySelector(\"form\").addEventListener(\"submit\", onSubmit);\n    };\n});\n"]}