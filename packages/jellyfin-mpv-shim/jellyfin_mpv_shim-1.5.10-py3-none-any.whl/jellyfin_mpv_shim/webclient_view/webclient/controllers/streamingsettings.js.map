{"version":3,"sources":["controllers/streamingsettings.js"],"names":["define","$","libraryMenu","loading","onSubmit","show","form","this","ApiClient","getServerConfiguration","then","config","RemoteClientBitrateLimit","parseInt","parseFloat","val","updateServerConfiguration","Dashboard","processServerConfigurationUpdateResult","getTabs","href","name","Globalize","translate","document","on","off","setTabs","page","loadPage","hide"],"mappings":"AAAA,aAAAA,OAAO,CAAC,SAAU,cAAe,YAAY,SAAUC,EAAGC,YAAaC,SAQnE,SAASC,WACLD,QAAQE,OACR,IAAIC,KAAOC,KAMX,OALAC,UAAUC,yBAAyBC,MAAK,SAAUC,QAC9CA,OAAOC,yBAA2BC,SAAS,IAAMC,WAAWb,EAAE,+BAAgCK,MAAMS,OAAS,MAC7GP,UAAUQ,0BAA0BL,QAAQD,KAAKO,UAAUC,4CAGxD,EAGX,SAASC,UACL,MAAO,CAAC,CACJC,KAAM,wBACNC,KAAMC,UAAUC,UAAU,gBAC3B,CACCH,KAAM,6BACNC,KAAMC,UAAUC,UAAU,sBAC3B,CACCH,KAAM,yBACNC,KAAMC,UAAUC,UAAU,kBAIlCtB,EAAEuB,UAAUC,GAAG,WAAY,0BAA0B,WACjDxB,EAAE,0BAA0ByB,IAAI,SAAUtB,UAAUqB,GAAG,SAAUrB,aAClEqB,GAAG,WAAY,0BAA0B,WACxCtB,QAAQE,OACRH,YAAYyB,QAAQ,WAAY,EAAGR,SACnC,IAAIS,KAAOrB,KACXC,UAAUC,yBAAyBC,MAAK,SAAUC,SAnCtD,SAASkB,SAASD,KAAMjB,QACpBV,EAAE,+BAAgC2B,MAAMb,IAAIJ,OAAOC,yBAA2B,KAAO,IACrFT,QAAQ2B,OAkCJD,CAASD,KAAMjB","file":"streamingsettings.js","sourcesContent":["define([\"jQuery\", \"libraryMenu\", \"loading\"], function ($, libraryMenu, loading) {\n    \"use strict\";\n\n    function loadPage(page, config) {\n        $(\"#txtRemoteClientBitrateLimit\", page).val(config.RemoteClientBitrateLimit / 1e6 || \"\");\n        loading.hide();\n    }\n\n    function onSubmit() {\n        loading.show();\n        var form = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            config.RemoteClientBitrateLimit = parseInt(1e6 * parseFloat($(\"#txtRemoteClientBitrateLimit\", form).val() || \"0\"));\n            ApiClient.updateServerConfiguration(config).then(Dashboard.processServerConfigurationUpdateResult);\n        });\n\n        return false;\n    }\n\n    function getTabs() {\n        return [{\n            href: \"encodingsettings.html\",\n            name: Globalize.translate(\"Transcoding\")\n        }, {\n            href: \"playbackconfiguration.html\",\n            name: Globalize.translate(\"TabResumeSettings\")\n        }, {\n            href: \"streamingsettings.html\",\n            name: Globalize.translate(\"TabStreaming\")\n        }];\n    }\n\n    $(document).on(\"pageinit\", \"#streamingSettingsPage\", function () {\n        $(\".streamingSettingsForm\").off(\"submit\", onSubmit).on(\"submit\", onSubmit);\n    }).on(\"pageshow\", \"#streamingSettingsPage\", function () {\n        loading.show();\n        libraryMenu.setTabs(\"playback\", 2, getTabs);\n        var page = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            loadPage(page, config);\n        });\n    });\n});\n"]}