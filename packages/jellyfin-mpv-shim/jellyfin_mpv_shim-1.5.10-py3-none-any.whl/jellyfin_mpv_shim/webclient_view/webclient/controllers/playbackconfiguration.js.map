{"version":3,"sources":["controllers/playbackconfiguration.js"],"names":["define","$","loading","libraryMenu","onSubmit","show","form","this","ApiClient","getServerConfiguration","then","config","MinResumePct","val","MaxResumePct","MinResumeDurationSeconds","updateServerConfiguration","Dashboard","processServerConfigurationUpdateResult","getTabs","href","name","Globalize","translate","document","on","off","setTabs","page","loadPage","hide"],"mappings":"AAAA,aAAAA,OAAO,CAAC,SAAU,UAAW,gBAAgB,SAAUC,EAAGC,QAASC,aAU/D,SAASC,WACLF,QAAQG,OACR,IAAIC,KAAOC,KASX,OARAC,UAAUC,yBAAyBC,MAAK,SAAUC,QAC9CA,OAAOC,aAAeX,EAAE,mBAAoBK,MAAMO,MAClDF,OAAOG,aAAeb,EAAE,mBAAoBK,MAAMO,MAClDF,OAAOI,yBAA2Bd,EAAE,wBAAyBK,MAAMO,MAEnEL,UAAUQ,0BAA0BL,QAAQD,KAAKO,UAAUC,4CAGxD,EAGX,SAASC,UACL,MAAO,CAAC,CACJC,KAAM,wBACNC,KAAMC,UAAUC,UAAU,gBAC3B,CACCH,KAAM,6BACNC,KAAMC,UAAUC,UAAU,sBAC3B,CACCH,KAAM,yBACNC,KAAMC,UAAUC,UAAU,kBAIlCtB,EAAEuB,UAAUC,GAAG,WAAY,8BAA8B,WACrDxB,EAAE,8BAA8ByB,IAAI,SAAUtB,UAAUqB,GAAG,SAAUrB,aACtEqB,GAAG,WAAY,8BAA8B,WAC5CvB,QAAQG,OACRF,YAAYwB,QAAQ,WAAY,EAAGR,SACnC,IAAIS,KAAOrB,KACXC,UAAUC,yBAAyBC,MAAK,SAAUC,SAxCtD,SAASkB,SAASD,KAAMjB,QACpBV,EAAE,mBAAoB2B,MAAMf,IAAIF,OAAOC,cACvCX,EAAE,mBAAoB2B,MAAMf,IAAIF,OAAOG,cACvCb,EAAE,wBAAyB2B,MAAMf,IAAIF,OAAOI,0BAC5Cb,QAAQ4B,OAqCJD,CAASD,KAAMjB","file":"playbackconfiguration.js","sourcesContent":["define([\"jQuery\", \"loading\", \"libraryMenu\"], function ($, loading, libraryMenu) {\n    \"use strict\";\n\n    function loadPage(page, config) {\n        $(\"#txtMinResumePct\", page).val(config.MinResumePct);\n        $(\"#txtMaxResumePct\", page).val(config.MaxResumePct);\n        $(\"#txtMinResumeDuration\", page).val(config.MinResumeDurationSeconds);\n        loading.hide();\n    }\n\n    function onSubmit() {\n        loading.show();\n        var form = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            config.MinResumePct = $('#txtMinResumePct', form).val();\n            config.MaxResumePct = $('#txtMaxResumePct', form).val();\n            config.MinResumeDurationSeconds = $('#txtMinResumeDuration', form).val();\n\n            ApiClient.updateServerConfiguration(config).then(Dashboard.processServerConfigurationUpdateResult);\n        });\n\n        return false;\n    }\n\n    function getTabs() {\n        return [{\n            href: \"encodingsettings.html\",\n            name: Globalize.translate(\"Transcoding\")\n        }, {\n            href: \"playbackconfiguration.html\",\n            name: Globalize.translate(\"TabResumeSettings\")\n        }, {\n            href: \"streamingsettings.html\",\n            name: Globalize.translate(\"TabStreaming\")\n        }];\n    }\n\n    $(document).on(\"pageinit\", \"#playbackConfigurationPage\", function () {\n        $(\".playbackConfigurationForm\").off(\"submit\", onSubmit).on(\"submit\", onSubmit)\n    }).on(\"pageshow\", \"#playbackConfigurationPage\", function () {\n        loading.show();\n        libraryMenu.setTabs(\"playback\", 1, getTabs);\n        var page = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            loadPage(page, config);\n        });\n    });\n});\n"]}