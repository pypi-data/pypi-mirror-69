"use strict";define(["connectionManager"],(function(connectionManager){var isSyncing;return{sync:function sync(options){return console.debug("localSync.sync starting..."),isSyncing?Promise.resolve():(isSyncing=!0,new Promise((function(resolve,reject){require(["multiserversync","appSettings"],(function(MultiServerSync,appSettings){(options=options||{}).cameraUploadServers=appSettings.cameraUploadServers(),(new MultiServerSync).sync(connectionManager,options).then((function(){isSyncing=null,resolve()}),(function(err){isSyncing=null,reject(err)}))}))})))}}}));
//# sourceMappingURL=localsync.js.map
