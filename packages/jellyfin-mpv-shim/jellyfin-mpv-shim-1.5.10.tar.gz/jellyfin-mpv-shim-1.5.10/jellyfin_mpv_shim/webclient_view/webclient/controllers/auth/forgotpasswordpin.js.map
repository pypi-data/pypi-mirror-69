{"version":3,"sources":["controllers/auth/forgotpasswordpin.js"],"names":["define","processForgotPasswordResult","result","Success","msg","Globalize","translate","UsersReset","join","Dashboard","alert","message","title","callback","window","location","href","view","params","querySelector","addEventListener","onSubmit","e","ApiClient","ajax","type","url","getUrl","dataType","data","Pin","value","then","preventDefault"],"mappings":"AAAA,aAAAA,OAAO,IAAI,WAGP,SAASC,4BAA4BC,QACjC,GAAIA,OAAOC,QAAS,CAChB,IAAIC,IAAMC,UAAUC,UAAU,gCAI9B,OAHAF,KAAO,QACPA,KAAO,QACPA,KAAOF,OAAOK,WAAWC,KAAK,cAClBC,UAAUC,MAAM,CACxBC,QAASP,IACTQ,MAAOP,UAAUC,UAAU,uBAC3BO,SAAU,SAAAA,WACNC,OAAOC,SAASC,KAAO,gBAKnCP,UAAUC,MAAM,CACZC,QAASN,UAAUC,UAAU,mCAC7BM,MAAOP,UAAUC,UAAU,yBAInC,OAAO,SAAUW,KAAMC,QAcnBD,KAAKE,cAAc,QAAQC,iBAAiB,UAb5C,SAASC,SAASC,GAUd,OATAC,UAAUC,KAAK,CACXC,KAAM,OACNC,IAAKH,UAAUI,OAAO,4BACtBC,SAAU,OACVC,KAAM,CACFC,IAAKb,KAAKE,cAAc,WAAWY,SAExCC,KAAK/B,6BACRqB,EAAEW,kBACK","file":"forgotpasswordpin.js","sourcesContent":["define([], function () {\n    \"use strict\";\n\n    function processForgotPasswordResult(result) {\n        if (result.Success) {\n            var msg = Globalize.translate(\"MessagePasswordResetForUsers\");\n            msg += \"<br/>\";\n            msg += \"<br/>\";\n            msg += result.UsersReset.join(\"<br/>\");\n            return void Dashboard.alert({\n                message: msg,\n                title: Globalize.translate(\"HeaderPasswordReset\"),\n                callback: function () {\n                    window.location.href = \"index.html\";\n                }\n            });\n        }\n\n        Dashboard.alert({\n            message: Globalize.translate(\"MessageInvalidForgotPasswordPin\"),\n            title: Globalize.translate(\"HeaderPasswordReset\")\n        });\n    }\n\n    return function (view, params) {\n        function onSubmit(e) {\n            ApiClient.ajax({\n                type: \"POST\",\n                url: ApiClient.getUrl(\"Users/ForgotPassword/Pin\"),\n                dataType: \"json\",\n                data: {\n                    Pin: view.querySelector(\"#txtPin\").value\n                }\n            }).then(processForgotPasswordResult);\n            e.preventDefault();\n            return false;\n        }\n\n        view.querySelector(\"form\").addEventListener(\"submit\", onSubmit);\n    };\n});\n"]}