{"version":3,"sources":["components/backdropscreensaver/plugin.js"],"names":["define","connectionManager","currentSlideshow","this","name","type","id","supportsAnonymous","show","apiClient","currentApiClient","getItems","getCurrentUserId","ImageTypes","EnableImageTypes","IncludeItemTypes","SortBy","Recursive","Fields","ImageTypeLimit","StartIndex","Limit","then","result","Items","length","require","slideshow","newSlideShow","showTitle","cover","items","hide"],"mappings":"AAAA,aAAAA,OAAO,CAAC,sBAAsB,SAAUC,mBAEpC,OAAO,WAEH,IAOIC,iBAPOC,KAENC,KAAO,uBAFDD,KAGNE,KAAO,cAHDF,KAING,GAAK,sBAJCH,KAKNI,mBAAoB,EALdJ,KASNK,KAAO,WAER,IAYIC,UAAYR,kBAAkBS,mBAClCD,UAAUE,SAASF,UAAUG,mBAbjB,CACRC,WAAY,WACZC,iBAAkB,WAClBC,iBAAkB,2BAClBC,OAAQ,SACRC,WAAW,EACXC,OAAQ,WACRC,eAAgB,EAChBC,WAAY,EACZC,MAAO,MAI6CC,MAAK,SAAUC,QAE/DA,OAAOC,MAAMC,QAEbC,QAAQ,CAAC,cAAc,SAAUC,WAE7B,IAAIC,aAAe,IAAID,UAAU,CAC7BE,WAAW,EACXC,OAAO,EACPC,MAAOR,OAAOC,QAGlBI,aAAapB,OACbN,iBAAmB0B,oBArCxBzB,KA2CN6B,KAAO,WAEJ9B,mBACAA,iBAAiB8B,OACjB9B,iBAAmB","file":"plugin.js","sourcesContent":["define([\"connectionManager\"], function (connectionManager) {\n\n    return function () {\n\n        var self = this;\n\n        self.name = \"Backdrop ScreenSaver\";\n        self.type = \"screensaver\";\n        self.id = \"backdropscreensaver\";\n        self.supportsAnonymous = false;\n\n        var currentSlideshow;\n\n        self.show = function () {\n\n            var query = {\n                ImageTypes: \"Backdrop\",\n                EnableImageTypes: \"Backdrop\",\n                IncludeItemTypes: \"Movie,Series,MusicArtist\",\n                SortBy: \"Random\",\n                Recursive: true,\n                Fields: \"Taglines\",\n                ImageTypeLimit: 1,\n                StartIndex: 0,\n                Limit: 200\n            };\n\n            var apiClient = connectionManager.currentApiClient();\n            apiClient.getItems(apiClient.getCurrentUserId(), query).then(function (result) {\n\n                if (result.Items.length) {\n\n                    require([\"slideshow\"], function (slideshow) {\n\n                        var newSlideShow = new slideshow({\n                            showTitle: true,\n                            cover: true,\n                            items: result.Items\n                        });\n\n                        newSlideShow.show();\n                        currentSlideshow = newSlideShow;\n                    });\n                }\n            });\n        };\n\n        self.hide = function () {\n\n            if (currentSlideshow) {\n                currentSlideshow.hide();\n                currentSlideshow = null;\n            }\n        };\n    }\n});\n"]}