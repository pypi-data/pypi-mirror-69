(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"DtL+":function(n,e,t){"use strict";(function(n){var i=t("OnzC"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),c=t("roxr"),u=t("JBtm"),l=t.n(u),s=t("j/s1"),d=t("RbC2"),m=t("O1Fn"),b=t("9bu8"),g=r.a.createElement,f=Object(a.E)(600),h=function(){return t.e(11).then(t.bind(null,"ppfC")).then((function(n){var e=n.divide;return function(n){var t;return e(n.points,n.labels,!!n.visibility,null!==(t=n.keyword)&&void 0!==t?t:"")}}))},v=function(){return new Worker(n,void 0)},p=Object(s.c)(c.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],f),j=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(a.E)(20),f),O={show:!0,position:"top",formatter:function(n){return n.data.showing?n.data.name:""}};e.a=function(n){var e=n.run,t=n.tag,r=n.running,c=n.labelVisibility,u=n.keyword,s=n.reduction,f=n.dimension,y=Object(b.g)("common").t,w=Object(m.b)(e&&t?"/embeddings/embedding?".concat(l.a.stringify({run:e,tag:t,dimension:Number.parseInt(f,10),reduction:s})):null,!!r),E=w.data,C=w.error,k=w.loading,_=Object(o.useMemo)((function(){var n,e;return{points:null!==(n=null===E||void 0===E?void 0:E.embedding)&&void 0!==n?n:[],keyword:u,labels:null!==(e=null===E||void 0===E?void 0:E.labels)&&void 0!==e?e:[],visibility:c}}),[E,c,u]),S=Object(d.a)(h,v,i.divide,_),D=Object(o.useMemo)((function(){var n,e;return[{name:"highlighted",data:null!==(n=null===S||void 0===S?void 0:S[0])&&void 0!==n?n:[],label:O},{name:"others",data:null!==(e=null===S||void 0===S?void 0:S[1])&&void 0!==e?e:[],label:O,color:a.C}]}),[S]);return!E&&C?g(j,null,y("common:error")):E||k?g(p,{loading:k,data:D,gl:"3d"===f}):g(j,null,y("common:empty"))}}).call(this,t("dDaE"))},IMpY:function(n,e){},OnzC:function(n,e,t){"use strict";t.d(e,"divide",(function(){return i}));t("IMpY");var i=function(n){var e=n.points,t=n.keyword;return function(n,e){if(!e)return[[],n];var t=[],i=[];return n.forEach((function(n){n.name.includes(e)?t.push(n):i.push(n)})),[t,i]}(function(n,e,t){return n.map((function(n,i){return{name:e[i]||"",showing:!!t,value:n}}))}(e,n.labels,n.visibility),t)}},dDaE:function(n,e,t){n.exports=t.p+"static/chunks/2.4f5bb2803f02be8d912d.worker.js"},ioac:function(n,e,t){"use strict";t.r(e);var i=t("fGyu"),o=t("9bu8"),r=t("ERkP"),a=t.n(r),c=t("gI5n"),u=t("r8eb"),l=t("j/s1"),s=a.a.createElement,d=l.c.hr.withConfig({displayName:"AsideDivider__Divider",componentId:"sc-8t78og-0"})(["background-color:transparent;margin:0;border:none;height:",";"],(function(n){var e=n.height;return e?"number"===e?Object(u.E)(e):e:Object(u.E)(30)})),m=function(n){var e=n.height;return s(d,{height:e})},b=t("PKwP"),g=t("QRo2"),f=t("wK9i"),h=t("DtL+"),v=t("TpTG"),p=t("1HTM"),j=t("s+3g"),O=t("jd94"),y=t("Obvh"),w=t("bbjh"),E=t("C34g"),C=t("7xIC"),k=t("O1Fn"),_=t("XPj2"),S=a.a.createElement,D=["2d","3d"],P=["pca","tsne"],I=l.c.section.withConfig({displayName:"high-dimensional__AsideSection",componentId:"sc-1mk5cn7-0"})(["padding:",";"],Object(u.E)(20)),x=Object(l.c)(c.a).withConfig({displayName:"high-dimensional__StyledSelect",componentId:"sc-1mk5cn7-1"})(["min-width:",";"],Object(u.q)(160)),N=Object(l.c)(v.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-2"})(["margin-right:",";vertical-align:middle;"],Object(u.q)(4)),z=l.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-3"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(u.E)(16),Object(u.E)(16),Object(u.E)(10)),M=function(){var n=Object(o.g)(["high-dimensional","common"]).t,e=Object(r.useState)(!0),t=e[0],c=e[1],u=Object(k.b)("/runs",t),l=u.data,s=u.error,d=u.loading,v=Object(k.b)("/embeddings/tags",t),M=v.data,A=v.error,T=v.loading,R=Object(r.useMemo)((function(){return s||A}),[s,A]),q=Object(r.useMemo)((function(){return d||T}),[d,T]),H=Object(r.useMemo)((function(){return l&&M?l.reduce((function(n,e){var t,o;return[].concat(Object(i.a)(n),Object(i.a)(null!==(t=null===(o=M[e])||void 0===o?void 0:o.map((function(n){return{run:e,tag:n,label:"".concat(e,"/").concat(n)}})))&&void 0!==t?t:[]))}),[]):[]}),[l,M]),F=Object(r.useMemo)((function(){return H.map((function(n){return n.label}))}),[H]),J=Object(C.useRouter)().query,X=Object(r.useMemo)((function(){var n,e,t,i=Array.isArray(J.run)?J.run[0]:J.run;return null!==(n=i&&(null===(e=H.find((function(n){return n.run===i})))||void 0===e?void 0:e.label))&&void 0!==n?n:null===(t=H[0])||void 0===t?void 0:t.label}),[J.run,H]),G=Object(r.useState)(X),K=G[0],L=G[1];Object(r.useEffect)((function(){return L(X)}),[X]);var Q=Object(r.useMemo)((function(){var n;return null!==(n=H.find((function(n){return n.label===K})))&&void 0!==n?n:{run:"",tag:"",label:""}}),[H,K]),V=Object(r.useState)(""),W=V[0],Y=V[1],B=Object(_.a)(W),Z=Object(r.useState)(D[0]),U=Z[0],$=Z[1],nn=Object(r.useState)(P[0]),en=nn[0],tn=nn[1],on=Object(r.useState)(!0),rn=on[0],an=on[1],cn=S(I,null,S(z,null,n("common:select-runs")),S(x,{list:F,value:K,onChange:L}),S(m,null),S(f.a,null,S(w.a,{placeholder:n("common:search"),value:W,onChange:Y})),S(f.a,null,S(b.a,{value:rn,onChange:an},n("high-dimensional:display-all-label"))),S(m,null),S(z,null,S(N,{type:"dimension"}),n("high-dimensional:dimension")),S(f.a,null,S(O.c,{value:U,onChange:function(n){return $(n)}},D.map((function(e){return S(j.a,{key:e,value:e},n(e))})))),S(m,null),S(z,null,S(N,{type:"reduction"}),n("high-dimensional:reduction-method")),S(f.a,null,S(O.c,{value:en,onChange:function(n){return tn(n)}},P.map((function(e){return S(j.a,{key:e,value:e},n(e))})))),S(y.a,{running:t,onToggle:c}));return S(a.a.Fragment,null,S(p.a,{url:"/runs"}),S(E.a,null,n("common:high-dimensional")),S(g.a,{aside:cn,loading:q},R?S("div",null,n("common:error")):q?null:S(h.a,{dimension:U,keyword:B,run:Q.run,tag:Q.tag,running:t,labelVisibility:rn,reduction:en})))};M.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}};e.default=M},roxr:function(n,e,t){"use strict";var i=t("zjfJ"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),c=t("zqQH"),u=t.n(c),l=t("j/s1"),s=t("kF6i"),d=r.a.createElement;function m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function b(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){Object(i.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var g=l.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;background-color:",";> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],a.c,Object(a.A)("absolute",0,null,null,0),Object(a.H)("100%")),f={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},h={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},v={symbolSize:12,type:"scatter"},p={symbolSize:12,type:"scatter3D"};e.a=function(n){var e=n.data,t=n.loading,i=n.gl,r=n.className,c=Object(s.a)({loading:t,gl:i}),l=c.ref,m=c.echart,j=Object(o.useMemo)((function(){var n;return b({},i?h:f,{series:null!==(n=null===e||void 0===e?void 0:e.map((function(n){return b({},i?p:v,{},n)})))&&void 0!==n?n:[]})}),[i,e]);return Object(o.useEffect)((function(){var n;null===m||void 0===m||null===(n=m.current)||void 0===n||n.setOption(j,{notMerge:!0})}),[j,m]),d(g,{className:r},!m&&d("div",{className:"loading"},d(u.a,{color:a.C,size:"10px"})),d("div",{className:"echarts",ref:l}))}},uaEc:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])}},[["uaEc",1,2,3,0,4,5,6,10,13]]]);