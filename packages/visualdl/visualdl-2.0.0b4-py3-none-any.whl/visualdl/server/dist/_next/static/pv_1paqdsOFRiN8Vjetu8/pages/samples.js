/*! For license information please see samples.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"26Hi":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/samples",function(){return n("aMnP")}])},MwrP:function(e,t,n){var r=n("4uJK"),a=n("kkM+"),c=n("bvyN"),o=n("wxYD"),i=n("9y2L"),s=n("3ajY"),u=n("CbIe"),l=n("Qd2C"),f="[object Map]",p="[object Set]",g=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||l(e)||c(e)))return!e.length;var t=a(e);if(t==f||t==p)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(g.call(e,n))return!1;return!0}},aJyk:function(e,t,n){"use strict";var r=n("crdw"),a=n("oNVP").extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,o=/^text\//i;function i(e){if(!e||"string"!==typeof e)return!1;var t=c.exec(e),n=t&&r[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!o.test(t[1]))&&"UTF-8"}t.charset=i,t.charsets={lookup:i},t.contentType=function(e){if(!e||"string"!==typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!==typeof e)return!1;var n=c.exec(e),r=n&&t.extensions[n[1].toLowerCase()];if(!r||!r.length)return!1;return r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!==typeof e)return!1;var n=a("x."+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),function(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(r).forEach((function(a){var c=r[a],o=c.extensions;if(o&&o.length){e[a]=o;for(var i=0;i<o.length;i++){var s=o[i];if(t[s]){var u=n.indexOf(r[t[s]].source),l=n.indexOf(c.source);if("application/octet-stream"!==t[s]&&(u>l||u===l&&"application/"===t[s].substr(0,12)))continue}t[s]=a}}}))}(t.extensions,t.types)},aMnP:function(e,t,n){"use strict";n.r(t);var r=n("zjfJ"),a=n("HbGN"),c=n("s8Q3"),o=n("9bu8"),i=n("ERkP"),s=n.n(i),u=n("PKwP"),l=n("QRo2"),f=n("wK9i"),p=n("1HTM"),g=n("0KuU"),b=n("Uqjl"),m=n("zqQH"),d=n.n(m),O=n("aJyk"),h=n.n(O),j=n("r8eb"),v=n("etrl"),y=n("O1Fn"),w=s.a.createElement,x=s.a.forwardRef((function(e,t){var n=e.src,r=e.cache,a=Object(o.g)("common").t,c=Object(i.useState)(""),s=c[0],u=c[1],l=Object(y.a)(null!==n&&void 0!==n?n:null,b.a,{dedupingInterval:null!==r&&void 0!==r?r:2e3}),f=l.data,p=l.error,g=l.loading;return Object(i.useImperativeHandle)(t,(function(){return{save:function(e){if(f){var t=f.type?h.a.extension(f.type):null;Object(v.saveAs)(f.data,e.replace(/[/\\?%*:|"<>]/g,"_")+(t?".".concat(t):""))}}}})),Object(i.useLayoutEffect)((function(){if(f){var e;return e=URL.createObjectURL(f.data),u(e),function(){e&&URL.revokeObjectURL(e)}}}),[f]),g?w(d.a,{color:j.C,size:"10px"}):p?w("div",null,a("common:error")):w("img",{src:s})})),C=n("Ns5m"),k=n("lXyp"),S=n("j/s1"),P=s.a.createElement,R=S.c.div.withConfig({displayName:"StepSlider__Label",componentId:"sc-1er4gsv-0"})(["display:flex;justify-content:space-between;color:",";font-size:",";margin-bottom:",";>:not(:first-child){flex-grow:0;}"],j.K,Object(j.q)(12),Object(j.q)(5)),_=Object(S.c)(k.a).withConfig({displayName:"StepSlider__FullWidthRangeSlider",componentId:"sc-1er4gsv-1"})(["width:100%;"]),E=function(e){var t,n=e.onChange,r=e.onChangeComplete,a=e.value,c=e.steps,u=e.children,l=Object(o.g)("samples").t,f=Object(i.useState)(a),p=f[0],g=f[1];Object(i.useEffect)((function(){return g(a)}),[a]);var b=Object(i.useCallback)((function(e){g(e),null===n||void 0===n||n(e)}),[n]);return P(s.a.Fragment,null,P(R,null,P("span",null,"".concat(l("samples:step"),": ").concat(null!==(t=c[p])&&void 0!==t?t:"...")),u&&P("span",null,u)),P(_,{min:0,max:c.length?c.length-1:0,step:1,value:p,onChange:b,onChangeComplete:r}))},q=n("cBaE"),T=n("MwrP"),L=n.n(T),M=n("JBtm"),N=n.n(M),z=s.a.createElement,I=S.c.div.withConfig({displayName:"SampleChart__Wrapper",componentId:"sc-1gq2xxh-0"})(["height:100%;padding:",";padding-bottom:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;> *{flex-grow:0;flex-shrink:0;}"],Object(j.q)(20)),H=S.c.div.withConfig({displayName:"SampleChart__Title",componentId:"sc-1gq2xxh-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:",";> h4{font-size:",";font-weight:700;flex-shrink:1;flex-grow:1;padding:0;margin:0;","}> span{font-size:",";flex-shrink:0;flex-grow:0;color:",";}"],Object(j.q)(20),Object(j.q)(16),Object(j.p)(),Object(j.q)(14),j.K),J=S.c.div.withConfig({displayName:"SampleChart__Container",componentId:"sc-1gq2xxh-2"})(["flex-grow:1;flex-shrink:1;margin:"," 0;display:flex;justify-content:center;align-items:center;overflow:hidden;> img{"," filter:brightness(",") contrast(",");"," object-fit:",";flex-shrink:1;}"],Object(j.q)(20),Object(j.H)("100%"),(function(e){var t;return null!==(t=e.brightness)&&void 0!==t?t:1}),(function(e){var t;return null!==(t=e.contrast)&&void 0!==t?t:1}),Object(j.O)("filter"),(function(e){return e.fit?"contain":"scale-down"})),U=function(e){var t=e.run,n=e.tag,r=e.brightness,a=e.contrast,c=e.fit,s=e.running,u=Object(o.g)(["samples","common"]),l=u.t,f=u.i18n,p=Object(i.useRef)(null),g=Object(y.b)("/images/list?".concat(N.a.stringify({run:t,tag:n})),!!s),b=g.data,m=g.error,O=g.loading,h=Object(i.useMemo)((function(){var e;return null!==(e=null===b||void 0===b?void 0:b.map((function(e){return e.step})))&&void 0!==e?e:[]}),[b]),v=Object(i.useState)(0),w=v[0],k=v[1],S=Object(i.useState)(),P=S[0],R=S[1],_=Object(i.useRef)({}),T=Object(i.useRef)(null);Object(i.useEffect)((function(){Object.values(_.current).forEach((function(e){var t=e.timer;return clearTimeout(t)})),_.current={}}),[n,t]);var M=Object(i.useMemo)((function(){var e;return null!==(e=null===b||void 0===b?void 0:b[w].wallTime)&&void 0!==e?e:0}),[b,w]),U=Object(i.useCallback)((function(){if(b){var e=function(e,t,n,r){return"/images/image?".concat(N.a.stringify({index:e,ts:r,run:t,tag:n}))}(w,t,n,M);_.current[w]={src:e,timer:setTimeout((function(){var e;e=w,delete _.current[e]}),3e5)},R(e)}}),[w,t,n,M,b]),K=Object(i.useCallback)((function(){var e;null===(e=p.current)||void 0===e||e.save("".concat(t,"-").concat(n,"-").concat(h[w],"-").concat(M.toString().replace(/\./,"_")))}),[t,n,h,w,M]);Object(i.useEffect)((function(){if(_.current[w])R(_.current[w].src);else{if(!L()(_.current))return T.current=setTimeout(U,500),function(){T.current&&clearTimeout(T.current)};U()}}),[w,U]);var D=Object(i.useMemo)((function(){return O||!_.current[w]?z(d.a,{color:j.C,size:"10px"}):!b&&m?z("span",null,l("common:error")):L()(b)?z("span",null,l("common:empty")):z(x,{ref:p,src:P,cache:3e5})}),[O,m,b,w,P,l]);return z(I,null,z(H,null,z("h4",null,n),z("span",null,t)),z(E,{value:w,steps:h,onChange:k,onChangeComplete:U},Object(q.a)(1e3*M,f.language)),z(J,{brightness:r,contrast:a,fit:c},D),z(C.a,{items:[{icon:"download",tooltip:l("samples:download-image"),onClick:K}]}))},K=n("ypiw"),D=n("C34g"),F=n("t2fH"),Q=s.a.createElement;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var A={height:Object(j.E)(406)},B=function(){var e=Object(o.g)(["samples","common"]).t,t=Object(i.useState)(!0),n=t[0],b=t[1],m=Object(F.a)("images",n),d=m.runs,O=m.tags,h=m.selectedRuns,j=m.onChangeRuns,v=m.loadingRuns,y=m.loadingTags,w=Object(i.useMemo)((function(){return O.reduce((function(e,t){var n=t.runs,c=Object(a.a)(t,["runs"]);return Array.prototype.push.apply(e,n.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,{run:e.label,id:"".concat(c.label,"-").concat(e.label)})}))),e}),[])}),[O]),x=Object(i.useState)(!1),C=x[0],k=x[1],S=Object(i.useState)(1),P=S[0],R=S[1],_=Object(i.useState)(1),E=_[0],q=_[1],T=Q(g.a,{runs:d,selectedRuns:h,onChangeRuns:j,running:n,onToggleRunning:b},Q("section",null,Q(u.a,{value:C,onChange:k},e("samples:show-actual-size"))),Q("section",null,Q(f.a,{label:e("samples:brightness")},Q(K.a,{min:0,max:2,step:.01,value:P,onChange:R}))),Q("section",null,Q(f.a,{label:e("samples:contrast")},Q(K.a,{min:0,max:2,step:.01,value:E,onChange:q})))),L=Object(i.useCallback)((function(e){var t=e.run,r=e.label;return Q(U,{run:t,tag:r,fit:!C,running:n,brightness:P,contrast:E})}),[C,n,P,E]);return Q(s.a.Fragment,null,Q(p.a,{url:"/runs"}),Q(p.a,{url:"/images/tags"}),Q(D.a,null,e("common:samples")),Q(l.a,{aside:T,loading:v},Q(c.a,{items:w,chartSize:A,withChart:L,loading:v||y})))};B.getInitialProps=function(){return{namespacesRequired:["samples","common"]}};t.default=B},crdw:function(e,t,n){e.exports=n("fgl5")}},[["26Hi",1,2,3,16,0,4,5,6,10,8,9,14]]]);